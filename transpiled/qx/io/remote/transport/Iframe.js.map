{
  "version": 3,
  "sources": [
    "/home/runner/work/hkollmann.mobilegrid/hkollmann.mobilegrid/qx_packages/qooxdoo_deprecated_qx_io_remote_v1_0_2/source/class/qx/io/remote/transport/Iframe.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "io",
    "remote",
    "transport",
    "Abstract",
    "implement",
    "core",
    "IDisposable",
    "construct",
    "vUniqueId",
    "Date",
    "valueOf",
    "vFrameName",
    "vFormName",
    "vFrameSource",
    "Environment",
    "get",
    "__frame",
    "bom",
    "Iframe",
    "create",
    "id",
    "name",
    "src",
    "element",
    "Style",
    "set",
    "__form",
    "dom",
    "Element",
    "target",
    "insertEnd",
    "Node",
    "getBodyElement",
    "document",
    "__data",
    "event",
    "Registration",
    "addListener",
    "_onload",
    "__onreadystatechangeWrapper",
    "lang",
    "Function",
    "listener",
    "_onreadystatechange",
    "Event",
    "addNativeListener",
    "statics",
    "handles",
    "synchronous",
    "asynchronous",
    "crossDomain",
    "fileUpload",
    "programmaticFormFields",
    "responseTypes",
    "isSupported",
    "_numericMap",
    "uninitialized",
    "loading",
    "loaded",
    "interactive",
    "complete",
    "members",
    "__lastReadyState",
    "send",
    "vMethod",
    "getMethod",
    "vUrl",
    "getUrl",
    "vParameters",
    "getParameters",
    "vParametersList",
    "vId",
    "value",
    "Array",
    "i",
    "length",
    "push",
    "encodeURIComponent",
    "indexOf",
    "join",
    "getData",
    "setData",
    "vFormFields",
    "getFormFields",
    "vField",
    "createElement",
    "appendChild",
    "createTextNode",
    "action",
    "method",
    "submit",
    "setState",
    "GlobalError",
    "observeMethod",
    "e",
    "getIframeHtmlContent",
    "_switchReadyState",
    "readyState",
    "vReadyState",
    "getState",
    "warn",
    "Exchange",
    "_nativeMap",
    "setRequestHeader",
    "vLabel",
    "vValue",
    "getResponseHeader",
    "getResponseHeaders",
    "getStatusCode",
    "getStatusText",
    "getIframeWindow",
    "getWindow",
    "getIframeDocument",
    "getDocument",
    "getIframeBody",
    "getBody",
    "getIframeTextContent",
    "vBody",
    "firstChild",
    "tagName",
    "toLowerCase",
    "innerHTML",
    "getFetchedLength",
    "getResponseContent",
    "vText",
    "getResponseType",
    "Json",
    "parse",
    "ex",
    "error",
    "window",
    "eval",
    "defer",
    "registerType",
    "destruct",
    "removeListener",
    "removeNativeListener",
    "util",
    "ResourceManager",
    "getInstance",
    "toUri",
    "remove"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n     2006 Derrell Lipman\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Derrell Lipman (derrell)\n     * Andreas Junghans (lucidcake)\n\n************************************************************************ */\n\n/* ************************************************************************\n\n\n************************************************************************ */\n\n/**\n * Transports requests to a server using an IFRAME.\n *\n * This class should not be used directly by client programmers.\n *\n * NOTE: Instances of this class must be disposed of after use\n *\n * @asset(qx/static/blank.gif)\n */\nqx.Class.define(\"qx.io.remote.transport.Iframe\", {\n  extend: qx.io.remote.transport.Abstract,\n  implement: [qx.core.IDisposable],\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct() {\n    super();\n\n    // Unique identifiers for iframe and form\n    var vUniqueId = new Date().valueOf();\n    var vFrameName = \"frame_\" + vUniqueId;\n    var vFormName = \"form_\" + vUniqueId;\n\n    // This is to prevent the \"mixed secure and insecure content\" warning in IE with https\n    var vFrameSource;\n    if (qx.core.Environment.get(\"engine.name\") == \"mshtml\") {\n      /* eslint-disable-next-line no-script-url */\n      vFrameSource = \"javascript:void(0)\";\n    }\n\n    // Create a hidden iframe.\n    // The purpose of the iframe is to receive data coming back from the server (see below).\n    this.__frame = qx.bom.Iframe.create({\n      id: vFrameName,\n      name: vFrameName,\n      src: vFrameSource,\n    });\n\n    qx.bom.element.Style.set(this.__frame, \"display\", \"none\");\n\n    // Create form element with textarea as conduit for request data.\n    // The target of the form is the hidden iframe, which means the response\n    // coming back from the server is written into the iframe.\n    this.__form = qx.dom.Element.create(\"form\", {\n      id: vFormName,\n      name: vFormName,\n      target: vFrameName,\n    });\n    qx.bom.element.Style.set(this.__form, \"display\", \"none\");\n    qx.dom.Element.insertEnd(this.__form, qx.dom.Node.getBodyElement(document));\n\n    this.__data = qx.dom.Element.create(\"textarea\", {\n      id: \"_data_\",\n      name: \"_data_\",\n    });\n    qx.dom.Element.insertEnd(this.__data, this.__form);\n\n    // Finally, attach iframe to DOM and add listeners\n    qx.dom.Element.insertEnd(\n      this.__frame,\n      qx.dom.Node.getBodyElement(document)\n    );\n    qx.event.Registration.addListener(this.__frame, \"load\", this._onload, this);\n\n    // qx.event.handler.Iframe does not yet support the readystatechange event\n    this.__onreadystatechangeWrapper = qx.lang.Function.listener(\n      this._onreadystatechange,\n      this\n    );\n    qx.bom.Event.addNativeListener(\n      this.__frame,\n      \"readystatechange\",\n      this.__onreadystatechangeWrapper\n    );\n  },\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics: {\n    /**\n     * Capabilities of this transport type.\n     *\n     * @internal\n     */\n    handles: {\n      synchronous: false,\n      asynchronous: true,\n      crossDomain: false,\n      fileUpload: true,\n      programmaticFormFields: true,\n      responseTypes: [\n        \"text/plain\",\n        \"text/javascript\",\n        \"application/json\",\n        \"application/xml\",\n        \"text/html\",\n      ],\n    },\n\n    /**\n     * Returns always true, because iframe transport is supported by all browsers.\n     *\n     * @return {Boolean}\n     */\n    isSupported() {\n      return true;\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT LISTENER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * For reference:\n     * http://msdn.microsoft.com/en-us/library/ie/ms534359%28v=vs.85%29.aspx\n     *\n     * @internal\n     */\n    _numericMap: {\n      uninitialized: 1,\n      loading: 2,\n      loaded: 2,\n      interactive: 3,\n      complete: 4,\n    },\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    __data: null,\n    __lastReadyState: 0,\n    __form: null,\n    __frame: null,\n    __onreadystatechangeWrapper: null,\n\n    /*\n    ---------------------------------------------------------------------------\n      USER METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sends a request with the use of a form.\n     *\n     */\n    send() {\n      var vMethod = this.getMethod();\n      var vUrl = this.getUrl();\n\n      // --------------------------------------\n      //   Adding parameters\n      // --------------------------------------\n      var vParameters = this.getParameters(false);\n      var vParametersList = [];\n\n      for (var vId in vParameters) {\n        var value = vParameters[vId];\n\n        if (value instanceof Array) {\n          for (var i = 0; i < value.length; i++) {\n            vParametersList.push(\n              encodeURIComponent(vId) + \"=\" + encodeURIComponent(value[i])\n            );\n          }\n        } else {\n          vParametersList.push(\n            encodeURIComponent(vId) + \"=\" + encodeURIComponent(value)\n          );\n        }\n      }\n\n      if (vParametersList.length > 0) {\n        vUrl +=\n          (vUrl.indexOf(\"?\") >= 0 ? \"&\" : \"?\") + vParametersList.join(\"&\");\n      }\n\n      // --------------------------------------------------------\n      //   Adding data parameters (if no data is already present)\n      // --------------------------------------------------------\n      if (this.getData() === null) {\n        var vParameters = this.getParameters(true);\n        var vParametersList = [];\n\n        for (var vId in vParameters) {\n          var value = vParameters[vId];\n\n          if (value instanceof Array) {\n            for (var i = 0; i < value.length; i++) {\n              vParametersList.push(\n                encodeURIComponent(vId) + \"=\" + encodeURIComponent(value[i])\n              );\n            }\n          } else {\n            vParametersList.push(\n              encodeURIComponent(vId) + \"=\" + encodeURIComponent(value)\n            );\n          }\n        }\n\n        if (vParametersList.length > 0) {\n          this.setData(vParametersList.join(\"&\"));\n        }\n      }\n\n      // --------------------------------------\n      //   Adding form fields\n      // --------------------------------------\n      var vFormFields = this.getFormFields();\n\n      for (var vId in vFormFields) {\n        var vField = document.createElement(\"textarea\");\n        vField.name = vId;\n        vField.appendChild(document.createTextNode(vFormFields[vId]));\n        this.__form.appendChild(vField);\n      }\n\n      // --------------------------------------\n      //   Preparing form\n      // --------------------------------------\n      this.__form.action = vUrl;\n      this.__form.method = vMethod;\n\n      // --------------------------------------\n      //   Sending data\n      // --------------------------------------\n      this.__data.appendChild(document.createTextNode(this.getData()));\n      this.__form.submit();\n      this.setState(\"sending\");\n    },\n\n    /**\n     * Converting complete state to numeric value and update state property\n     *\n     * @signature function(e)\n     * @param e {qx.event.type.Event} event object\n     */\n    _onload: qx.event.GlobalError.observeMethod(function (e) {\n      // Timing-issue in Opera\n      // Do not switch state to complete in case load event fires before content\n      // of iframe was updated\n      if (\n        qx.core.Environment.get(\"engine.name\") == \"opera\" &&\n        this.getIframeHtmlContent() == \"\"\n      ) {\n        return;\n      }\n\n      if (this.__form.src) {\n        return;\n      }\n\n      this._switchReadyState(\n        qx.io.remote.transport.Iframe._numericMap.complete\n      );\n    }),\n\n    /**\n     * Converting named readyState to numeric value and update state property\n     *\n     * @signature function(e)\n     * @param e {qx.event.type.Event} event object\n     */\n    _onreadystatechange: qx.event.GlobalError.observeMethod(function (e) {\n      this._switchReadyState(\n        qx.io.remote.transport.Iframe._numericMap[this.__frame.readyState]\n      );\n    }),\n\n    /**\n     * Switches the readystate by setting the internal state.\n     *\n     * @param vReadyState {String} readystate value\n     */\n    _switchReadyState(vReadyState) {\n      // Ignoring already stopped requests\n      switch (this.getState()) {\n        case \"completed\":\n        case \"aborted\":\n        case \"failed\":\n        case \"timeout\":\n          this.warn(\"Ignore Ready State Change\");\n          return;\n      }\n\n      // Updating internal state\n      while (this.__lastReadyState < vReadyState) {\n        this.setState(\n          qx.io.remote.Exchange._nativeMap[++this.__lastReadyState]\n        );\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      REQUEST HEADER SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sets a request header with the given value.\n     *\n     * This method is not implemented at the moment.\n     *\n     * @param vLabel {String} request header name\n     * @param vValue {var} request header value\n     */\n    setRequestHeader(vLabel, vValue) {},\n\n    /*\n    ---------------------------------------------------------------------------\n      RESPONSE HEADER SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the value of the given response header.\n     *\n     * This method is not implemented at the moment and returns always \"null\".\n     *\n     * @param vLabel {String} Response header name\n     * @return {null} Returns null\n     */\n    getResponseHeader(vLabel) {\n      return null;\n    },\n\n    /**\n     * Provides an hash of all response headers.\n     *\n     * This method is not implemented at the moment and returns an empty map.\n     *\n     * @return {Map} empty map\n     */\n    getResponseHeaders() {\n      return {};\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      STATUS SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the current status code of the request if available or -1 if not.\n     * This method needs implementation (returns always 200).\n     *\n     * @return {Integer} status code\n     */\n    getStatusCode() {\n      return 200;\n    },\n\n    /**\n     * Provides the status text for the current request if available and null otherwise.\n     * This method needs implementation (returns always an empty string)\n     *\n     * @return {String} status code text\n     */\n    getStatusText() {\n      return \"\";\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      FRAME UTILITIES\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the DOM window object of the used iframe.\n     *\n     * @return {Object} DOM window object\n     */\n    getIframeWindow() {\n      return qx.bom.Iframe.getWindow(this.__frame);\n    },\n\n    /**\n     * Returns the document node of the used iframe.\n     *\n     * @return {Object} document node\n     */\n    getIframeDocument() {\n      return qx.bom.Iframe.getDocument(this.__frame);\n    },\n\n    /**\n     * Returns the body node of the used iframe.\n     *\n     * @return {Object} body node\n     */\n    getIframeBody() {\n      return qx.bom.Iframe.getBody(this.__frame);\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      RESPONSE DATA SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the iframe content (innerHTML) as text.\n     *\n     * @return {String} iframe content as text\n     */\n    getIframeTextContent() {\n      var vBody = this.getIframeBody();\n\n      if (!vBody) {\n        return null;\n      }\n\n      if (!vBody.firstChild) {\n        return \"\";\n      }\n\n      // Mshtml returns the content inside a PRE\n      // element if we use plain text\n      if (\n        vBody.firstChild.tagName &&\n        vBody.firstChild.tagName.toLowerCase() == \"pre\"\n      ) {\n        return vBody.firstChild.innerHTML;\n      } else {\n        return vBody.innerHTML;\n      }\n    },\n\n    /**\n     * Returns the iframe content as HTML.\n     *\n     * @return {String} iframe content as HTML\n     */\n    getIframeHtmlContent() {\n      var vBody = this.getIframeBody();\n      return vBody ? vBody.innerHTML : null;\n    },\n\n    /**\n     * Returns the length of the content as fetched thus far.\n     * This method needs implementation (returns always 0).\n     *\n     * @return {Integer} Returns 0\n     */\n    getFetchedLength() {\n      return 0;\n    },\n\n    /**\n     * Returns the content of the response\n     *\n     * @return {null | String} null or text of the response (=iframe content).\n     */\n    getResponseContent() {\n      if (this.getState() !== \"completed\") {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          if (qx.core.Environment.get(\"qx.debug.io.remote\")) {\n            this.warn(\"Transfer not complete, ignoring content!\");\n          }\n        }\n\n        return null;\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (qx.core.Environment.get(\"qx.debug.io.remote\")) {\n          this.debug(\n            \"Returning content for responseType: \" + this.getResponseType()\n          );\n        }\n      }\n\n      var vText = this.getIframeTextContent();\n\n      switch (this.getResponseType()) {\n        case \"text/plain\":\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            if (qx.core.Environment.get(\"qx.debug.io.remote.data\")) {\n              this.debug(\"Response: \" + this._responseContent);\n            }\n          }\n          return vText;\n\n        case \"text/html\":\n          vText = this.getIframeHtmlContent();\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            if (qx.core.Environment.get(\"qx.debug.io.remote.data\")) {\n              this.debug(\"Response: \" + this._responseContent);\n            }\n          }\n          return vText;\n\n        case \"application/json\":\n          vText = this.getIframeHtmlContent();\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            if (qx.core.Environment.get(\"qx.debug.io.remote.data\")) {\n              this.debug(\"Response: \" + this._responseContent);\n            }\n          }\n\n          try {\n            return vText && vText.length > 0 ? qx.lang.Json.parse(vText) : null;\n          } catch (ex) {\n            return this.error(\"Could not execute json: (\" + vText + \")\", ex);\n          }\n\n        case \"text/javascript\":\n          vText = this.getIframeHtmlContent();\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            if (qx.core.Environment.get(\"qx.debug.io.remote.data\")) {\n              this.debug(\"Response: \" + this._responseContent);\n            }\n          }\n\n          try {\n            return vText && vText.length > 0 ? window.eval(vText) : null;\n          } catch (ex) {\n            return this.error(\n              \"Could not execute javascript: (\" + vText + \")\",\n              ex\n            );\n          }\n\n        case \"application/xml\":\n          vText = this.getIframeDocument();\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            if (qx.core.Environment.get(\"qx.debug.io.remote.data\")) {\n              this.debug(\"Response: \" + this._responseContent);\n            }\n          }\n          return vText;\n\n        default:\n          this.warn(\n            \"No valid responseType specified (\" + this.getResponseType() + \")!\"\n          );\n          return null;\n      }\n    },\n  },\n\n  /*\n  *****************************************************************************\n     DEFER\n  *****************************************************************************\n  */\n\n  defer() {\n    // basic registration to qx.io.remote.Exchange\n    // the real availability check (activeX stuff and so on) follows at the first real request\n    qx.io.remote.Exchange.registerType(\n      qx.io.remote.transport.Iframe,\n      \"qx.io.remote.transport.Iframe\"\n    );\n  },\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct() {\n    if (this.__frame) {\n      qx.event.Registration.removeListener(\n        this.__frame,\n        \"load\",\n        this._onload,\n        this\n      );\n      qx.bom.Event.removeNativeListener(\n        this.__frame,\n        \"readystatechange\",\n        this.__onreadystatechangeWrapper\n      );\n\n      // Reset source to a blank image for gecko\n      // Otherwise it will switch into a load-without-end behaviour\n      if (qx.core.Environment.get(\"engine.name\") == \"gecko\") {\n        this.__frame.src = qx.util.ResourceManager.getInstance().toUri(\n          \"qx/static/blank.gif\"\n        );\n      }\n\n      // Finally, remove element node\n      qx.dom.Element.remove(this.__frame);\n    }\n\n    if (this.__form) {\n      qx.dom.Element.remove(this.__form);\n    }\n\n    this.__frame = this.__form = this.__data = null;\n  },\n});\n"
  ]
}