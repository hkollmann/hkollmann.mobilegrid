{
  "version": 3,
  "sources": [
    "/home/runner/work/hkollmann.mobilegrid/hkollmann.mobilegrid/node_modules/@qooxdoo/framework/source/class/qx/ui/menu/AbstractButton.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "include",
    "MExecutable",
    "implement",
    "form",
    "IExecutable",
    "type",
    "construct",
    "_setLayout",
    "menu",
    "ButtonLayout",
    "addListener",
    "_onTap",
    "_onKeyPress",
    "_onChangeCommand",
    "properties",
    "blockToolTip",
    "refine",
    "init",
    "label",
    "check",
    "apply",
    "nullable",
    "event",
    "dereference",
    "icon",
    "themeable",
    "showCommandLabel",
    "members",
    "_createChildControlImpl",
    "id",
    "hash",
    "control",
    "basic",
    "Image",
    "setAnonymous",
    "_add",
    "column",
    "Label",
    "getShowCommandLabel",
    "exclude",
    "_forwardStates",
    "selected",
    "getChildrenSizes",
    "iconWidth",
    "labelWidth",
    "shortcutWidth",
    "arrowWidth",
    "_isChildControlVisible",
    "getChildControl",
    "getMarginLeft",
    "getSizeHint",
    "width",
    "getMarginRight",
    "shortcut",
    "arrow",
    "e",
    "isLeftPressed",
    "execute",
    "Timer",
    "once",
    "Manager",
    "getInstance",
    "hideAll",
    "getContextMenu",
    "preventContextMenuOnce",
    "command",
    "getData",
    "oldCommand",
    "getOldData",
    "locale",
    "_onChangeLocale",
    "removeListener",
    "cmdString",
    "toString",
    "setValue",
    "Environment",
    "select",
    "getCommand",
    "_applyIcon",
    "value",
    "old",
    "_showChildControl",
    "setSource",
    "_excludeChildControl",
    "_applyLabel",
    "_applyMenu",
    "_onMenuChange",
    "resetOpener",
    "removeState",
    "setOpener",
    "addState",
    "contentEl",
    "getContentElement",
    "setAttribute",
    "isVisible",
    "getAttribute",
    "removeAttribute",
    "getMenu",
    "_applyShowCommandLabel",
    "destruct",
    "ObjectRegistry",
    "inShutDown",
    "destroy",
    "AbstractButton"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * The abstract menu button class is used for all type of menu content\n * for example normal buttons, checkboxes or radiobuttons.\n *\n * @childControl icon {qx.ui.basic.Image} icon of the button\n * @childControl label {qx.ui.basic.Label} label of the button\n * @childControl shortcut {qx.ui.basic.Label} shows if specified the shortcut\n * @childControl arrow {qx.ui.basic.Image} shows the arrow to show an additional widget (e.g. popup or submenu)\n */\nqx.Class.define(\"qx.ui.menu.AbstractButton\", {\n  extend: qx.ui.core.Widget,\n  include: [qx.ui.core.MExecutable],\n  implement: [qx.ui.form.IExecutable],\n  type: \"abstract\",\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct() {\n    super();\n\n    // Use hard coded layout\n    this._setLayout(new qx.ui.menu.ButtonLayout());\n\n    // Add listeners\n    this.addListener(\"tap\", this._onTap);\n    this.addListener(\"keypress\", this._onKeyPress);\n\n    // Add command listener\n    this.addListener(\"changeCommand\", this._onChangeCommand, this);\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    // overridden\n    blockToolTip: {\n      refine: true,\n      init: true\n    },\n\n    /** The label text of the button */\n    label: {\n      check: \"String\",\n      apply: \"_applyLabel\",\n      nullable: true,\n      event: \"changeLabel\"\n    },\n\n    /** Whether a sub menu should be shown and which one */\n    menu: {\n      check: \"qx.ui.menu.Menu\",\n      apply: \"_applyMenu\",\n      nullable: true,\n      dereference: true,\n      event: \"changeMenu\"\n    },\n\n    /** The icon to use */\n    icon: {\n      check: \"String\",\n      apply: \"_applyIcon\",\n      themeable: true,\n      nullable: true,\n      event: \"changeIcon\"\n    },\n\n    /** Indicates whether the label for the command (shortcut) should be visible or not. */\n    showCommandLabel: {\n      check: \"Boolean\",\n      apply: \"_applyShowCommandLabel\",\n      themeable: true,\n      init: true,\n      event: \"changeShowCommandLabel\"\n    }\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET API\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _createChildControlImpl(id, hash) {\n      var control;\n\n      switch (id) {\n        case \"icon\":\n          control = new qx.ui.basic.Image();\n          control.setAnonymous(true);\n          this._add(control, { column: 0 });\n          break;\n\n        case \"label\":\n          control = new qx.ui.basic.Label();\n          control.setAnonymous(true);\n          this._add(control, { column: 1 });\n          break;\n\n        case \"shortcut\":\n          control = new qx.ui.basic.Label();\n          control.setAnonymous(true);\n          if (!this.getShowCommandLabel()) {\n            control.exclude();\n          }\n          this._add(control, { column: 2 });\n          break;\n\n        case \"arrow\":\n          control = new qx.ui.basic.Image();\n          control.setAnonymous(true);\n          this._add(control, { column: 3 });\n          break;\n      }\n\n      return control || super._createChildControlImpl(id);\n    },\n\n    // overridden\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates: {\n      selected: 1\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      LAYOUT UTILS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the dimensions of all children\n     *\n     * @return {Array} Preferred width of each child\n     */\n    getChildrenSizes() {\n      var iconWidth = 0,\n        labelWidth = 0,\n        shortcutWidth = 0,\n        arrowWidth = 0;\n\n      if (this._isChildControlVisible(\"icon\")) {\n        var icon = this.getChildControl(\"icon\");\n        iconWidth =\n          icon.getMarginLeft() +\n          icon.getSizeHint().width +\n          icon.getMarginRight();\n      }\n\n      if (this._isChildControlVisible(\"label\")) {\n        var label = this.getChildControl(\"label\");\n        labelWidth =\n          label.getMarginLeft() +\n          label.getSizeHint().width +\n          label.getMarginRight();\n      }\n\n      if (this._isChildControlVisible(\"shortcut\")) {\n        var shortcut = this.getChildControl(\"shortcut\");\n        shortcutWidth =\n          shortcut.getMarginLeft() +\n          shortcut.getSizeHint().width +\n          shortcut.getMarginRight();\n      }\n\n      if (this._isChildControlVisible(\"arrow\")) {\n        var arrow = this.getChildControl(\"arrow\");\n        arrowWidth =\n          arrow.getMarginLeft() +\n          arrow.getSizeHint().width +\n          arrow.getMarginRight();\n      }\n\n      return [iconWidth, labelWidth, shortcutWidth, arrowWidth];\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT LISTENERS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event listener for tap\n     *\n     * @param e {qx.event.type.Pointer} pointer event\n     */\n    _onTap(e) {\n      if (e.isLeftPressed()) {\n        this.execute();\n        qx.event.Timer.once(\n          qx.ui.menu.Manager.getInstance().hideAll,\n          qx.ui.menu.Manager.getInstance(),\n          0\n        );\n      }\n\n      // right click\n      else {\n        // only prevent contextmenu event if button has no further context menu.\n        if (!this.getContextMenu()) {\n          qx.ui.menu.Manager.getInstance().preventContextMenuOnce();\n        }\n      }\n    },\n\n    /**\n     * Event listener for keypress event\n     *\n     * @param e {qx.event.type.KeySequence} keypress event\n     */\n    _onKeyPress(e) {\n      this.execute();\n    },\n\n    /**\n     * Event listener for command changes. Updates the text of the shortcut.\n     *\n     * @param e {qx.event.type.Data} Property change event\n     */\n    _onChangeCommand(e) {\n      var command = e.getData();\n\n      // do nothing if no command is set\n      if (command == null) {\n        return;\n      }\n\n      if (qx.core.Environment.get(\"qx.dynlocale\")) {\n        var oldCommand = e.getOldData();\n        if (!oldCommand) {\n          qx.locale.Manager.getInstance().addListener(\n            \"changeLocale\",\n            this._onChangeLocale,\n            this\n          );\n        }\n        if (!command) {\n          qx.locale.Manager.getInstance().removeListener(\n            \"changeLocale\",\n            this._onChangeLocale,\n            this\n          );\n        }\n      }\n\n      var cmdString = command != null ? command.toString() : \"\";\n      this.getChildControl(\"shortcut\").setValue(cmdString);\n    },\n\n    /**\n     * Update command string on locale changes\n     */\n    _onChangeLocale: qx.core.Environment.select(\"qx.dynlocale\", {\n      true(e) {\n        var command = this.getCommand();\n        if (command != null) {\n          this.getChildControl(\"shortcut\").setValue(command.toString());\n        }\n      },\n\n      false: null\n    }),\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyIcon(value, old) {\n      if (value) {\n        this._showChildControl(\"icon\").setSource(value);\n      } else {\n        this._excludeChildControl(\"icon\");\n      }\n    },\n\n    // property apply\n    _applyLabel(value, old) {\n      if (value) {\n        this._showChildControl(\"label\").setValue(value);\n      } else {\n        this._excludeChildControl(\"label\");\n      }\n    },\n\n    // property apply\n    _applyMenu(value, old) {\n      if (old) {\n        old.removeListener(\"changeVisibility\", this._onMenuChange, this);\n        old.resetOpener();\n        old.removeState(\"submenu\");\n      }\n\n      if (value) {\n        this._showChildControl(\"arrow\");\n\n        value.addListener(\"changeVisibility\", this._onMenuChange, this);\n        value.setOpener(this);\n        value.addState(\"submenu\");\n      } else {\n        this._excludeChildControl(\"arrow\");\n      }\n\n      // ARIA attrs\n      const contentEl = this.getContentElement();\n      if (!contentEl) {\n        return;\n      }\n      if (value) {\n        contentEl.setAttribute(\"aria-haspopup\", \"menu\");\n        contentEl.setAttribute(\"aria-expanded\", value.isVisible());\n        contentEl.setAttribute(\n          \"aria-controls\",\n          value.getContentElement().getAttribute(\"id\")\n        );\n      } else {\n        contentEl.removeAttribute(\"aria-haspopup\");\n        contentEl.removeAttribute(\"aria-expanded\");\n        contentEl.removeAttribute(\"aria-controls\");\n      }\n    },\n\n    /**\n     * Listener for visibility property changes of the attached menu\n     *\n     * @param e {qx.event.type.Data} Property change event\n     */\n    _onMenuChange(e) {\n      // ARIA attrs\n      this.getContentElement().setAttribute(\n        \"aria-expanded\",\n        this.getMenu().isVisible()\n      );\n    },\n\n    // property apply\n    _applyShowCommandLabel(value, old) {\n      if (value) {\n        this._showChildControl(\"shortcut\");\n      } else {\n        this._excludeChildControl(\"shortcut\");\n      }\n    }\n  },\n\n  /*\n   *****************************************************************************\n      DESTRUCTOR\n   *****************************************************************************\n   */\n\n  destruct() {\n    this.removeListener(\"changeCommand\", this._onChangeCommand, this);\n\n    if (this.getMenu()) {\n      if (!qx.core.ObjectRegistry.inShutDown) {\n        this.getMenu().destroy();\n      }\n    }\n\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().removeListener(\n        \"changeLocale\",\n        this._onChangeLocale,\n        this\n      );\n    }\n  }\n});\n"
  ]
}