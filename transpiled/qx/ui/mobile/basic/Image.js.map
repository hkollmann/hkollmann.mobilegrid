{
  "version": 3,
  "sources": [
    "/home/runner/work/hkollmann.mobilegrid/hkollmann.mobilegrid/node_modules/@qooxdoo/framework/source/class/qx/ui/mobile/basic/Image.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "core",
    "Widget",
    "construct",
    "source",
    "basic",
    "Image",
    "ROOT",
    "Init",
    "getApplication",
    "getRoot",
    "setSource",
    "initSource",
    "addListener",
    "_onChangeAppScale",
    "events",
    "loadingFailed",
    "loaded",
    "statics",
    "PLACEHOLDER_IMAGE",
    "properties",
    "check",
    "nullable",
    "init",
    "apply",
    "members",
    "_getTagName",
    "_applySource",
    "value",
    "old",
    "resourceManager",
    "util",
    "ResourceManager",
    "getInstance",
    "indexOf",
    "uri",
    "toUri",
    "has",
    "highResSource",
    "findHighResolutionSource",
    "getAppScale",
    "_createHighResolutionOverlay",
    "io",
    "ImageLoader",
    "isFailed",
    "isLoaded",
    "load",
    "__loaderCallback",
    "_setSource",
    "getSource",
    "lowResSource",
    "_setStyle",
    "getImageWidth",
    "getImageHeight",
    "imageInfo",
    "$$disposed",
    "failed",
    "warn",
    "fireEvent",
    "aborted",
    "_domUpdated",
    "_setAttribute",
    "setDraggable",
    "isDraggable",
    "defer",
    "destruct",
    "removeListener"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n\n************************************************************************ */\n\n/**\n * The image widget displays an image file.\n *\n * *Example*\n *\n * Here is a little example of how to use the widget.\n *\n * <pre class='javascript'>\n *   var image = new qx.ui.mobile.basic.Image(\"path/to/icon.png\");\n *\n *   this.getRoot().add(image);\n * </pre>\n *\n * This example create a widget to display the image\n * <code>path/to/icon.png</code>.\n *\n */\nqx.Class.define(\"qx.ui.mobile.basic.Image\", {\n  extend: qx.ui.mobile.core.Widget,\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param source {String?null} The URL of the image to display.\n   */\n  construct(source) {\n    super();\n\n    if (qx.ui.mobile.basic.Image.ROOT === null) {\n      qx.ui.mobile.basic.Image.ROOT = qx.core.Init.getApplication().getRoot();\n    }\n\n    if (source) {\n      this.setSource(source);\n    } else {\n      this.initSource();\n    }\n\n    qx.ui.mobile.basic.Image.ROOT.addListener(\n      \"changeAppScale\",\n      this._onChangeAppScale,\n      this\n    );\n  },\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events: {\n    /**\n     * Fired if the image source can not be loaded.\n     */\n    loadingFailed: \"qx.event.type.Event\",\n\n    /**\n     * Fired if the image has been loaded.\n     */\n    loaded: \"qx.event.type.Event\"\n  },\n\n  statics: {\n    /** @type {qx.ui.mobile.core.Root} the mobile application root */\n    ROOT: null,\n\n    /** @type {String} a 1px*1px sized transparent image. */\n    PLACEHOLDER_IMAGE: null\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    /**\n     * The URL of the image to display.\n     */\n    source: {\n      check: \"String\",\n      nullable: true,\n      init: null,\n      apply: \"_applySource\"\n    }\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    // overridden\n    _getTagName() {\n      return \"img\";\n    },\n\n    // property apply\n    _applySource(value, old) {\n      var resourceManager = qx.util.ResourceManager.getInstance();\n      var source = value;\n\n      if (source && source.indexOf(\"data:\") != 0) {\n        var uri = resourceManager.toUri(source);\n\n        if (resourceManager.has(source)) {\n          var highResSource = resourceManager.findHighResolutionSource(\n            source,\n            qx.ui.mobile.basic.Image.ROOT.getAppScale()\n          );\n\n          if (highResSource) {\n            this._createHighResolutionOverlay(highResSource, source);\n            source = qx.ui.mobile.basic.Image.PLACEHOLDER_IMAGE;\n            uri = resourceManager.toUri(highResSource);\n          } else {\n            source = uri;\n          }\n        }\n\n        if (\n          !qx.io.ImageLoader.isFailed(uri) &&\n          !qx.io.ImageLoader.isLoaded(uri)\n        ) {\n          qx.io.ImageLoader.load(uri, this.__loaderCallback, this);\n        }\n      }\n\n      this._setSource(source);\n    },\n\n    /**\n     * Event handler for \"changeAppScale\" on application root.\n     * Reloads the image source.\n     */\n    _onChangeAppScale() {\n      this._applySource(this.getSource());\n    },\n\n    /**\n     * Creates an overlay for this image which shows the image defined by the parameter 'highResSource',\n     * but has the same size and position as the source image.\n     * The original image widget is hidden by this method.\n     *\n     * @param highResSource {String} Image source of the high-resolution image.\n     * @param lowResSource {String} Image source of the low-resolution image.\n     */\n    _createHighResolutionOverlay(highResSource, lowResSource) {\n      // Replace the source through transparent pixel for making the high-resolution background image visible.\n      var resourceManager = qx.util.ResourceManager.getInstance();\n      this._setStyle(\n        \"backgroundImage\",\n        \"url(\" + resourceManager.toUri(highResSource) + \")\"\n      );\n\n      this._setStyle(\"backgroundSize\", \"100%\");\n      this._setStyle(\"backgroundRepeat\", \"no-repeat\");\n      this._setStyle(\"backgroundPosition\", \"50% 50%\");\n      this._setStyle(\n        \"width\",\n        resourceManager.getImageWidth(lowResSource) / 16 + \"rem\"\n      );\n\n      this._setStyle(\n        \"height\",\n        resourceManager.getImageHeight(lowResSource) / 16 + \"rem\"\n      );\n    },\n\n    /**\n     * Event handler fired after the preloader has finished loading the icon\n     *\n     * @param source {String} Image source which was loaded\n     * @param imageInfo {Map} Dimensions of the loaded image\n     */\n    __loaderCallback(source, imageInfo) {\n      // Ignore the callback on already disposed images\n      if (this.$$disposed === true) {\n        return;\n      }\n\n      // Output a warning if the image could not loaded and quit\n      if (imageInfo.failed) {\n        this.warn(\"Image could not be loaded: \" + source);\n        this.fireEvent(\"loadingFailed\");\n      } else if (imageInfo.aborted) {\n        // ignore the rest because it is aborted\n        return;\n      } else {\n        this.fireEvent(\"loaded\");\n      }\n      this._domUpdated();\n    },\n\n    /**\n     * Sets the source attribute of the image tag.\n     *\n     * @param source {String} Image source which was loaded\n     */\n    _setSource(source) {\n      this._setAttribute(\"src\", source);\n    },\n\n    /**\n     * Sets the attribute draggable to the given value \"isDraggable\".\n     * @param isDraggable {Boolean} target value.\n     */\n    setDraggable(isDraggable) {\n      if (isDraggable) {\n        this._setAttribute(\"draggable\", \"true\");\n      } else {\n        this._setAttribute(\"draggable\", \"false\");\n      }\n    }\n  },\n\n  defer(statics) {\n    statics.PLACEHOLDER_IMAGE =\n      \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n  },\n\n  destruct() {\n    qx.ui.mobile.basic.Image.ROOT.removeListener(\n      \"changeAppScale\",\n      this._onChangeAppScale,\n      this\n    );\n  }\n});\n"
  ]
}