{
  "version": 3,
  "sources": [
    "/home/runner/work/hkollmann.mobilegrid/hkollmann.mobilegrid/node_modules/@qooxdoo/framework/source/class/qx/ui/mobile/container/Drawer.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "container",
    "Composite",
    "construct",
    "parent",
    "layout",
    "setLayout",
    "initOrientation",
    "initPositionZ",
    "add",
    "core",
    "Init",
    "getApplication",
    "getRoot",
    "addListener",
    "_onBack",
    "__parent",
    "getLayoutParent",
    "addCssClass",
    "_onParentSwipe",
    "_onParentPointerDown",
    "__pointerStartPosition",
    "forceHide",
    "events",
    "resize",
    "properties",
    "defaultCssClass",
    "refine",
    "init",
    "orientation",
    "check",
    "apply",
    "size",
    "event",
    "hideOnParentTap",
    "hideOnBack",
    "tapOffset",
    "transitionDuration",
    "positionZ",
    "members",
    "__transitionEnabled",
    "__inTransition",
    "_applyOrientation",
    "value",
    "old",
    "removeCssClass",
    "_applySize",
    "getSize",
    "_applyPositionZ",
    "setTranslateX",
    "setTranslateY",
    "height",
    "width",
    "remSize",
    "getOrientation",
    "_setStyle",
    "_applyTransitionDuration",
    "show",
    "isHidden",
    "getPositionZ",
    "getTransitionDuration",
    "_enableTransition",
    "callArguments",
    "arguments",
    "transitionTarget",
    "_getTransitionTarget",
    "getContentElement",
    "listenerId",
    "bom",
    "Element",
    "evt",
    "_disableTransition",
    "removeListenerById",
    "setTimeout",
    "bind",
    "hide",
    "hasCssClass",
    "element",
    "Style",
    "set",
    "toggleVisibility",
    "triggeredByKeyEvent",
    "getData",
    "getHideOnBack",
    "preventDefault",
    "getViewportLeft",
    "getViewportTop",
    "isShown",
    "isHideOnParentTap",
    "location",
    "Location",
    "get",
    "getContainerElement",
    "right",
    "bottom",
    "top",
    "left",
    "direction",
    "getDirection",
    "getTapOffset",
    "destruct",
    "removeListener",
    "util",
    "DisposeUtil",
    "destroyContainer",
    "Drawer"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n/**\n * Creates a drawer widget inside the given parent widget. The parent widget can\n * be assigned as a constructor argument. If no parent is set, the application's\n * root will be assumed as parent. A drawer widget can be assigned to left, right,\n * top or bottom edge of its parent by property <code>orientation</code>. The drawer floats\n * in on <code>show()</code> and floats out on <code>hide()</code>. Additionally the drawer is shown by\n * swiping in reverse direction on the parent edge to where the drawer is placed\n * to: Orientation: <code>left</code>, Swipe: <code>right</code> on parents edge: Drawer is shown etc.\n * The drawer is hidden when user taps the parent area outside of the drawer.\n * This behaviour can be deactivated by the property <code>hideOnParentTap</code>.\n *\n * <pre class='javascript'>\n *\n *  var drawer = new qx.ui.mobile.container.Drawer();\n *  drawer.setOrientation(\"right\");\n *  drawer.setTapOffset(100);\n *\n *  var button = new qx.ui.mobile.form.Button(\"A Button\");\n *  drawer.add(button);\n * </pre>\n *\n *\n */\nqx.Class.define(\"qx.ui.mobile.container.Drawer\", {\n  extend: qx.ui.mobile.container.Composite,\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param parent {qx.ui.mobile.container.Composite?null} The widget to which\n   * the drawer should be added, if null it is added to app root.\n   * @param layout {qx.ui.mobile.layout.Abstract?null} The layout that should be\n   * used for this container.\n   */\n  construct(parent, layout) {\n    super();\n\n    if (layout) {\n      this.setLayout(layout);\n    }\n\n    this.initOrientation();\n    this.initPositionZ();\n\n    if (parent) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertInstance(parent, qx.ui.mobile.container.Composite);\n      }\n\n      parent.add(this);\n    } else {\n      qx.core.Init.getApplication().getRoot().add(this);\n    }\n\n    qx.core.Init.getApplication().addListener(\"back\", this._onBack, this);\n\n    this.__parent = this.getLayoutParent();\n    this.__parent.addCssClass(\"drawer-parent\");\n\n    this.__parent.addListener(\"swipe\", this._onParentSwipe, this);\n    this.__parent.addListener(\"pointerdown\", this._onParentPointerDown, this);\n\n    this.__pointerStartPosition = [0, 0];\n\n    this.forceHide();\n  },\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events: {\n    /**\n     * Fired when the drawer changes its size.\n     */\n    resize: \"qx.event.type.Data\"\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n  properties: {\n    // overridden\n    defaultCssClass: {\n      refine: true,\n      init: \"drawer\"\n    },\n\n    /** Property for setting the orientation of the drawer.\n     * Allowed values are: <code>left</code>,<code>right</code>,<code>top</code>,<code>bottom</code> */\n    orientation: {\n      check: \"String\",\n      init: \"left\",\n      apply: \"_applyOrientation\"\n    },\n\n    /** The size of the drawer in <code>px</code>. This value is interpreted as width if\n     * orientation is <code>left | right</code>, as height if orientation is\n     * <code>top | bottom</code>. */\n    size: {\n      check: \"Integer\",\n      init: 300,\n      apply: \"_applySize\",\n      event: \"resize\"\n    },\n\n    /** Indicates whether the drawer should hide when the parent area of it is tapped.  */\n    hideOnParentTap: {\n      check: \"Boolean\",\n      init: true\n    },\n\n    /**\n     * Indicates whether the drawer should hide when a back action appear form a key event.\n     */\n    hideOnBack: {\n      check: \"Boolean\",\n      init: true\n    },\n\n    /** Sets the size of the tapping area, where the drawer reacts on swipes for opening itself. */\n    tapOffset: {\n      check: \"Integer\",\n      init: 20\n    },\n\n    /** The duration time of the transition between shown/hidden state in ms. */\n    transitionDuration: {\n      check: \"Integer\",\n      init: 500,\n      apply: \"_applyTransitionDuration\"\n    },\n\n    /** Sets the drawer zIndex position relative to its parent. */\n    positionZ: {\n      check: [\"above\", \"below\"],\n      init: \"above\",\n      apply: \"_applyPositionZ\"\n    }\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n  members: {\n    __pointerStartPosition: null,\n    __parent: null,\n    __transitionEnabled: null,\n    __inTransition: null,\n\n    // property apply\n    _applyOrientation(value, old) {\n      this.removeCssClass(old);\n      this.addCssClass(value);\n\n      // Reapply width of height size depending on orientation.\n      this._applySize(this.getSize());\n    },\n\n    // property apply\n    _applyPositionZ(value, old) {\n      this.removeCssClass(old);\n      this.addCssClass(value);\n\n      if (this.__parent) {\n        this.__parent.setTranslateX(0);\n        this.__parent.setTranslateY(0);\n      }\n    },\n\n    // property apply\n    _applySize(value) {\n      var height = null;\n      var width = null;\n\n      var remSize = value / 16;\n\n      if (this.getOrientation() == \"left\" || this.getOrientation() == \"right\") {\n        width = remSize + \"rem\";\n      } else {\n        height = remSize + \"rem\";\n      }\n\n      this._setStyle(\"height\", height);\n      this._setStyle(\"width\", width);\n    },\n\n    // property apply\n    _applyTransitionDuration(value, old) {\n      this.__transitionEnabled = value > 0;\n    },\n\n    /**\n     * Shows the drawer.\n     */\n    show() {\n      if (!this.isHidden() || this.__inTransition === true) {\n        return;\n      }\n\n      this.__inTransition = true;\n\n      // Make drawer visible before \"changeVisibility\" event is fired, after transition.\n      this._setStyle(\"visibility\", \"visible\");\n\n      this.__parent.addCssClass(\"blocked\");\n\n      if (this.getPositionZ() == \"below\") {\n        if (this.getOrientation() == \"left\") {\n          this.__parent.setTranslateX(this.getSize());\n        } else if (this.getOrientation() == \"right\") {\n          this.__parent.setTranslateX(-this.getSize());\n        } else if (this.getOrientation() == \"top\") {\n          this.__parent.setTranslateY(this.getSize());\n        } else if (this.getOrientation() == \"bottom\") {\n          this.__parent.setTranslateY(-this.getSize());\n        }\n      }\n\n      if (this.getTransitionDuration() > 0) {\n        this._enableTransition();\n\n        var callArguments = arguments;\n        var transitionTarget = this._getTransitionTarget().getContentElement();\n        var listenerId = qx.bom.Element.addListener(\n          transitionTarget,\n          \"transitionEnd\",\n          function (evt) {\n            super.show();\n            this._disableTransition();\n            this.__inTransition = false;\n            qx.bom.Element.removeListenerById(transitionTarget, listenerId);\n          },\n          this\n        );\n\n        setTimeout(\n          function () {\n            this.removeCssClass(\"hidden\");\n          }.bind(this),\n          0\n        );\n      } else {\n        super.show();\n        this.__inTransition = false;\n        this.removeCssClass(\"hidden\");\n      }\n    },\n\n    /**\n     * Hides the drawer.\n     */\n    hide() {\n      if (this.isHidden() || this.__inTransition === true) {\n        return;\n      }\n\n      this.__inTransition = true;\n\n      if (this.getPositionZ() == \"below\") {\n        this.__parent.setTranslateX(0);\n        this.__parent.setTranslateY(0);\n      }\n\n      if (this.getTransitionDuration() > 0) {\n        this._enableTransition();\n\n        var callArguments = arguments;\n        var transitionTarget = this._getTransitionTarget().getContentElement();\n        var listenerId = qx.bom.Element.addListener(\n          transitionTarget,\n          \"transitionEnd\",\n          function (evt) {\n            super.hide();\n            this._disableTransition();\n            this.__parent.removeCssClass(\"blocked\");\n            this.__inTransition = false;\n            qx.bom.Element.removeListenerById(transitionTarget, listenerId);\n          },\n          this\n        );\n\n        setTimeout(\n          function () {\n            this.addCssClass(\"hidden\");\n          }.bind(this),\n          0\n        );\n      } else {\n        super.hide();\n        this.addCssClass(\"hidden\");\n        this.__inTransition = false;\n        this.__parent.removeCssClass(\"blocked\");\n      }\n    },\n\n    /**\n     * Strict way to hide this drawer. Removes the blocker from the parent,\n     * and hides the drawer without any animation. Should be called when drawer's\n     * parent is animated and drawer should hide immediately.\n     */\n    forceHide() {\n      this._disableTransition();\n\n      if (this.getPositionZ() == \"below\") {\n        this.__parent.setTranslateX(0);\n        this.__parent.setTranslateY(0);\n      }\n\n      this.__parent.removeCssClass(\"blocked\");\n\n      this.addCssClass(\"hidden\");\n    },\n\n    // overridden\n    isHidden() {\n      return this.hasCssClass(\"hidden\");\n    },\n\n    /**\n     * Enables the transition on this drawer.\n     */\n    _enableTransition() {\n      qx.bom.element.Style.set(\n        this._getTransitionTarget().getContentElement(),\n        \"transition\",\n        \"all \" + this.getTransitionDuration() + \"ms ease-in-out\"\n      );\n    },\n\n    /**\n     * Disables the transition on this drawer.\n     */\n    _disableTransition() {\n      qx.bom.element.Style.set(\n        this._getTransitionTarget().getContentElement(),\n        \"transition\",\n        null\n      );\n    },\n\n    /**\n     * Returns the target widget which is responsible for the transition handling.\n     * @return {qx.ui.mobile.core.Widget} the transition target widget.\n     */\n    _getTransitionTarget() {\n      if (this.getPositionZ() == \"below\") {\n        return this.__parent;\n      } else {\n        return this;\n      }\n    },\n\n    /**\n     * Toggle the visibility of the drawer.\n     * @return {Boolean} the new visibility state.\n     */\n    toggleVisibility() {\n      if (this.isHidden()) {\n        this.show();\n        return true;\n      } else {\n        this.hide();\n        return false;\n      }\n    },\n\n    /**\n     * Handles a back event which appears on the application.\n     *\n     * @param evt {qx.event.type.Data} The back event.\n     */\n    _onBack(evt) {\n      var triggeredByKeyEvent = !!evt.getData();\n      if (triggeredByKeyEvent && !this.isHidden() && this.getHideOnBack()) {\n        evt.preventDefault();\n        this.hide();\n      }\n    },\n\n    /**\n     * Handles a tap on drawers' root.\n     * @param evt {qx.module.event.Pointer} Handled pointer event.\n     */\n    _onParentPointerDown(evt) {\n      this.__pointerStartPosition = [\n        evt.getViewportLeft(),\n        evt.getViewportTop()\n      ];\n\n      var isShown = !this.hasCssClass(\"hidden\");\n      if (isShown && this.isHideOnParentTap()) {\n        var location = qx.bom.element.Location.get(this.getContainerElement());\n        var orientation = this.getOrientation();\n        if (\n          (orientation == \"left\" &&\n            this.__pointerStartPosition[0] > location.right) ||\n          (orientation == \"top\" &&\n            this.__pointerStartPosition[1] > location.bottom) ||\n          (orientation == \"bottom\" &&\n            this.__pointerStartPosition[1] < location.top) ||\n          (orientation == \"right\" &&\n            this.__pointerStartPosition[0] < location.left)\n        ) {\n          // First event on overlayed page should be ignored.\n          evt.preventDefault();\n\n          this.hide();\n        }\n      }\n    },\n\n    /**\n     * Handles a swipe on layout parent.\n     * @param evt {qx.module.event.Pointer} Handled pointer event.\n     */\n    _onParentSwipe(evt) {\n      var direction = evt.getDirection();\n      var isHidden = this.hasCssClass(\"hidden\");\n      if (isHidden) {\n        var location = qx.bom.element.Location.get(this.getContainerElement());\n\n        if (\n          (direction == \"right\" &&\n            this.getOrientation() == \"left\" &&\n            this.__pointerStartPosition[0] <\n              location.right + this.getTapOffset() &&\n            this.__pointerStartPosition[0] > location.right) ||\n          (direction == \"left\" &&\n            this.getOrientation() == \"right\" &&\n            this.__pointerStartPosition[0] >\n              location.left - this.getTapOffset() &&\n            this.__pointerStartPosition[0] < location.left) ||\n          (direction == \"down\" &&\n            this.getOrientation() == \"top\" &&\n            this.__pointerStartPosition[1] <\n              this.getTapOffset() + location.bottom &&\n            this.__pointerStartPosition[1] > location.bottom) ||\n          (direction == \"up\" &&\n            this.getOrientation() == \"bottom\" &&\n            this.__pointerStartPosition[1] >\n              location.top - this.getTapOffset() &&\n            this.__pointerStartPosition[1] < location.top)\n        ) {\n          this.show();\n        }\n      }\n    }\n  },\n\n  destruct() {\n    qx.core.Init.getApplication().removeListener(\"back\", this._onBack, this);\n\n    this.__parent.removeListener(\"swipe\", this._onParentSwipe, this);\n    this.__parent.removeListener(\n      \"pointerdown\",\n      this._onParentPointerDown,\n      this\n    );\n\n    qx.util.DisposeUtil.destroyContainer(this);\n\n    this.__pointerStartPosition =\n      this.__parent =\n      this.__transitionEnabled =\n        null;\n  }\n});\n"
  ]
}