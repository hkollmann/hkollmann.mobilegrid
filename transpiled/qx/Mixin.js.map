{
  "version": 3,
  "sources": [
    "/home/runner/work/hkollmann.mobilegrid/hkollmann.mobilegrid/node_modules/@qooxdoo/framework/source/class/qx/Mixin.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "name",
    "config",
    "include",
    "getClass",
    "mixin",
    "setDisplayNames",
    "key",
    "Function",
    "$$mixin",
    "construct",
    "$$constructor",
    "setDisplayName",
    "$$includes",
    "properties",
    "$$properties",
    "members",
    "$$members",
    "events",
    "$$events",
    "destruct",
    "$$destructor",
    "$$type",
    "toString",
    "genericToString",
    "basename",
    "createNamespace",
    "$$registry",
    "checkCompatibility",
    "mixins",
    "list",
    "flatten",
    "len",
    "length",
    "i",
    "Error",
    "isCompatible",
    "clazz",
    "util",
    "OOUtil",
    "getMixins",
    "push",
    "Mixin",
    "getByName",
    "isDefined",
    "undefined",
    "getTotalNumber",
    "objectGetLength",
    "concat",
    "l",
    "apply",
    "baseClassMethod",
    "methodName",
    "$$mixinBaseClassMethods",
    "mixedInAt",
    "mixedInIndex",
    "searchClass",
    "superclass",
    "$$flatIncludes",
    "pos",
    "indexOf",
    "fn",
    "peerMixin",
    "prototype",
    "base",
    "self",
    "__allowedKeys",
    "core",
    "Environment",
    "select",
    "__validateConfig",
    "allowed",
    "maps",
    "classname",
    "a"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAH,EAAAA,EAAE,CAACC,SAAH,CAAaG,MAAb,CAAoB,UAApB,EAAgC;AAC9BC,IAAAA,OAAO,EAAE;AACP;AACJ;AACA;AACA;AACA;;AAEI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACID,MAAAA,MApDO,kBAoDAE,IApDA,EAoDMC,MApDN,EAoDc;AACnB,YAAIA,MAAJ,EAAY;AACV;AACA,cACEA,MAAM,CAACC,OAAP,IACA,EAAER,EAAE,CAACC,SAAH,CAAaQ,QAAb,CAAsBF,MAAM,CAACC,OAA7B,MAA0C,OAA5C,CAFF,EAGE;AACAD,YAAAA,MAAM,CAACC,OAAP,GAAiB,CAACD,MAAM,CAACC,OAAR,CAAjB;AACD,WAPS,CASV;;;AAKA;AACA,cAAIE,KAAK,GAAGH,MAAM,CAACF,OAAP,GAAiBE,MAAM,CAACF,OAAxB,GAAkC,EAA9C;AACAL,UAAAA,EAAE,CAACC,SAAH,CAAaU,eAAb,CAA6BD,KAA7B,EAAoCJ,IAApC;;AAEA,eAAK,IAAIM,GAAT,IAAgBF,KAAhB,EAAuB;AACrB,gBAAIA,KAAK,CAACE,GAAD,CAAL,YAAsBC,QAA1B,EAAoC;AAClCH,cAAAA,KAAK,CAACE,GAAD,CAAL,CAAWE,OAAX,GAAqBJ,KAArB;AACD;AACF,WAtBS,CAwBV;;;AACA,cAAIH,MAAM,CAACQ,SAAX,EAAsB;AACpBL,YAAAA,KAAK,CAACM,aAAN,GAAsBT,MAAM,CAACQ,SAA7B;AACAf,YAAAA,EAAE,CAACC,SAAH,CAAagB,cAAb,CAA4BV,MAAM,CAACQ,SAAnC,EAA8CT,IAA9C,EAAoD,aAApD;AACD;;AAED,cAAIC,MAAM,CAACC,OAAX,EAAoB;AAClBE,YAAAA,KAAK,CAACQ,UAAN,GAAmBX,MAAM,CAACC,OAA1B;AACD;;AAED,cAAID,MAAM,CAACY,UAAX,EAAuB;AACrBT,YAAAA,KAAK,CAACU,YAAN,GAAqBb,MAAM,CAACY,UAA5B;AACD;;AAED,cAAIZ,MAAM,CAACc,OAAX,EAAoB;AAClBX,YAAAA,KAAK,CAACY,SAAN,GAAkBf,MAAM,CAACc,OAAzB;AACArB,YAAAA,EAAE,CAACC,SAAH,CAAaU,eAAb,CAA6BJ,MAAM,CAACc,OAApC,EAA6Cf,IAAI,GAAG,YAApD;AACD;;AAED,eAAK,IAAIM,GAAT,IAAgBF,KAAK,CAACY,SAAtB,EAAiC;AAC/B,gBAAIZ,KAAK,CAACY,SAAN,CAAgBV,GAAhB,aAAgCC,QAApC,EAA8C;AAC5CH,cAAAA,KAAK,CAACY,SAAN,CAAgBV,GAAhB,EAAqBE,OAArB,GAA+BJ,KAA/B;AACD;AACF;;AAED,cAAIH,MAAM,CAACgB,MAAX,EAAmB;AACjBb,YAAAA,KAAK,CAACc,QAAN,GAAiBjB,MAAM,CAACgB,MAAxB;AACD;;AAED,cAAIhB,MAAM,CAACkB,QAAX,EAAqB;AACnBf,YAAAA,KAAK,CAACgB,YAAN,GAAqBnB,MAAM,CAACkB,QAA5B;AACAzB,YAAAA,EAAE,CAACC,SAAH,CAAagB,cAAb,CAA4BV,MAAM,CAACkB,QAAnC,EAA6CnB,IAA7C,EAAmD,UAAnD;AACD;AACF,SAzDD,MAyDO;AACL,cAAII,KAAK,GAAG,EAAZ;AACD,SA5DkB,CA8DnB;;;AACAA,QAAAA,KAAK,CAACiB,MAAN,GAAe,OAAf;AACAjB,QAAAA,KAAK,CAACJ,IAAN,GAAaA,IAAb,CAhEmB,CAkEnB;;AACAI,QAAAA,KAAK,CAACkB,QAAN,GAAiB,KAAKC,eAAtB,CAnEmB,CAqEnB;;AACAnB,QAAAA,KAAK,CAACoB,QAAN,GAAiB9B,EAAE,CAACC,SAAH,CAAa8B,eAAb,CAA6BzB,IAA7B,EAAmCI,KAAnC,CAAjB,CAtEmB,CAwEnB;;AACA,aAAKsB,UAAL,CAAgB1B,IAAhB,IAAwBI,KAAxB,CAzEmB,CA2EnB;;AACA,eAAOA,KAAP;AACD,OAjIM;;AAmIP;AACJ;AACA;AACA;AACA;AACA;AACA;AACIuB,MAAAA,kBA1IO,8BA0IYC,MA1IZ,EA0IoB;AACzB,YAAIC,IAAI,GAAG,KAAKC,OAAL,CAAaF,MAAb,CAAX;AACA,YAAIG,GAAG,GAAGF,IAAI,CAACG,MAAf;;AAEA,YAAID,GAAG,GAAG,CAAV,EAAa;AACX,iBAAO,IAAP;AACD;;AAED,YAAIlB,UAAU,GAAG,EAAjB;AACA,YAAIE,OAAO,GAAG,EAAd;AACA,YAAIE,MAAM,GAAG,EAAb;AACA,YAAIb,KAAJ;;AAEA,aAAK,IAAI6B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAApB,EAAyBE,CAAC,EAA1B,EAA8B;AAC5B7B,UAAAA,KAAK,GAAGyB,IAAI,CAACI,CAAD,CAAZ;;AAEA,eAAK,IAAI3B,GAAT,IAAgBF,KAAK,CAACa,MAAtB,EAA8B;AAC5B,gBAAIA,MAAM,CAACX,GAAD,CAAV,EAAiB;AACf,oBAAM,IAAI4B,KAAJ,CACJ,6BACE9B,KAAK,CAACJ,IADR,GAEE,SAFF,GAGEiB,MAAM,CAACX,GAAD,CAHR,GAIE,eAJF,GAKEA,GALF,GAME,IAPE,CAAN;AASD;;AAEDW,YAAAA,MAAM,CAACX,GAAD,CAAN,GAAcF,KAAK,CAACJ,IAApB;AACD;;AAED,eAAK,IAAIM,GAAT,IAAgBF,KAAK,CAACS,UAAtB,EAAkC;AAChC,gBAAIA,UAAU,CAACP,GAAD,CAAd,EAAqB;AACnB,oBAAM,IAAI4B,KAAJ,CACJ,6BACE9B,KAAK,CAACJ,IADR,GAEE,SAFF,GAGEa,UAAU,CAACP,GAAD,CAHZ,GAIE,iBAJF,GAKEA,GALF,GAME,IAPE,CAAN;AASD;;AAEDO,YAAAA,UAAU,CAACP,GAAD,CAAV,GAAkBF,KAAK,CAACJ,IAAxB;AACD;;AAED,eAAK,IAAIM,GAAT,IAAgBF,KAAK,CAACW,OAAtB,EAA+B;AAC7B,gBAAIA,OAAO,CAACT,GAAD,CAAX,EAAkB;AAChB,oBAAM,IAAI4B,KAAJ,CACJ,6BACE9B,KAAK,CAACJ,IADR,GAEE,SAFF,GAGEe,OAAO,CAACT,GAAD,CAHT,GAIE,eAJF,GAKEA,GALF,GAME,IAPE,CAAN;AASD;;AAEDS,YAAAA,OAAO,CAACT,GAAD,CAAP,GAAeF,KAAK,CAACJ,IAArB;AACD;AACF;;AAED,eAAO,IAAP;AACD,OA5MM;;AA8MP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACImC,MAAAA,YAtNO,wBAsNM/B,KAtNN,EAsNagC,KAtNb,EAsNoB;AACzB,YAAIP,IAAI,GAAGnC,EAAE,CAAC2C,IAAH,CAAQC,MAAR,CAAeC,SAAf,CAAyBH,KAAzB,CAAX;AACAP,QAAAA,IAAI,CAACW,IAAL,CAAUpC,KAAV;AACA,eAAOV,EAAE,CAAC+C,KAAH,CAASd,kBAAT,CAA4BE,IAA5B,CAAP;AACD,OA1NM;;AA4NP;AACJ;AACA;AACA;AACA;AACA;AACIa,MAAAA,SAlOO,qBAkOG1C,IAlOH,EAkOS;AACd,eAAO,KAAK0B,UAAL,CAAgB1B,IAAhB,CAAP;AACD,OApOM;;AAsOP;AACJ;AACA;AACA;AACA;AACA;AACI2C,MAAAA,SA5OO,qBA4OG3C,IA5OH,EA4OS;AACd,eAAO,KAAK0C,SAAL,CAAe1C,IAAf,MAAyB4C,SAAhC;AACD,OA9OM;;AAgPP;AACJ;AACA;AACA;AACA;AACIC,MAAAA,cArPO,4BAqPU;AACf,eAAOnD,EAAE,CAACC,SAAH,CAAamD,eAAb,CAA6B,KAAKpB,UAAlC,CAAP;AACD,OAvPM;;AAyPP;AACJ;AACA;AACA;AACA;AACA;AACA;AACII,MAAAA,OAhQO,mBAgQCF,MAhQD,EAgQS;AACd,YAAI,CAACA,MAAL,EAAa;AACX,iBAAO,EAAP;AACD,SAHa,CAKd;;;AACA,YAAIC,IAAI,GAAGD,MAAM,CAACmB,MAAP,EAAX;;AAEA,aAAK,IAAId,CAAC,GAAG,CAAR,EAAWe,CAAC,GAAGpB,MAAM,CAACI,MAA3B,EAAmCC,CAAC,GAAGe,CAAvC,EAA0Cf,CAAC,EAA3C,EAA+C;AAC7C,cAAIL,MAAM,CAACK,CAAD,CAAN,CAAUrB,UAAd,EAA0B;AACxBiB,YAAAA,IAAI,CAACW,IAAL,CAAUS,KAAV,CAAgBpB,IAAhB,EAAsB,KAAKC,OAAL,CAAaF,MAAM,CAACK,CAAD,CAAN,CAAUrB,UAAvB,CAAtB;AACD;AACF;;AAED,eAAOiB,IAAP;AACD,OA/QM;;AAiRP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIqB,MAAAA,eAxSO,2BAwSSd,KAxST,EAwSgBhC,KAxShB,EAwSuB+C,UAxSvB,EAwSmC;AAKjC;AACL,cACEf,KAAK,CAACgB,uBAAN,IACAhB,KAAK,CAACgB,uBAAN,CAA8BhD,KAAK,CAACJ,IAApC,MAA8C4C,SAD9C,IAEAR,KAAK,CAACgB,uBAAN,CAA8BhD,KAAK,CAACJ,IAApC,EAA0CmD,UAA1C,MAA0DP,SAH5D,EAIE;AACA,mBAAOR,KAAK,CAACgB,uBAAN,CAA8BhD,KAAK,CAACJ,IAApC,EAA0CmD,UAA1C,CAAP;AACD,WAPI,CASL;;;AACA,cAAIE,SAAS,GAAG,IAAhB;AACA,cAAIC,YAAY,GAAG,CAAC,CAApB;;AACA,eACE,IAAIC,WAAW,GAAGnB,KADpB,EAEEmB,WAFF,EAGEA,WAAW,GAAGA,WAAW,CAACC,UAH5B,EAIE;AACA,gBAAID,WAAW,CAACE,cAAhB,EAAgC;AAC9B,kBAAIC,GAAG,GAAGH,WAAW,CAACE,cAAZ,CAA2BE,OAA3B,CAAmCvD,KAAnC,CAAV;;AACA,kBAAIsD,GAAG,GAAG,CAAC,CAAX,EAAc;AACZL,gBAAAA,SAAS,GAAGE,WAAZ;AACAD,gBAAAA,YAAY,GAAGI,GAAf;AACD;AACF;AACF;;AAED,cAAIE,EAAE,GAAG,IAAT;;AAEA,cAAIP,SAAJ,EAAe;AACb;AACA;AACA,iBAAK,IAAIpB,CAAC,GAAGqB,YAAY,GAAG,CAA5B,EAA+BrB,CAAC,GAAG,CAAC,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;AAC1C,kBAAI4B,SAAS,GAAGR,SAAS,CAACI,cAAV,CAAyBxB,CAAzB,CAAhB;;AACA,kBAAI4B,SAAS,CAAC7C,SAAV,CAAoBmC,UAApB,CAAJ,EAAqC;AACnCS,gBAAAA,EAAE,GAAGC,SAAS,CAAC7C,SAAV,CAAoBmC,UAApB,CAAL;AACA;AACD;AACF,aATY,CAUb;;;AACA,gBAAI,CAACS,EAAD,IAAOP,SAAS,CAACS,SAAV,CAAoBX,UAApB,CAAX,EAA4C;AAC1CS,cAAAA,EAAE,GAAGP,SAAS,CAACS,SAAV,CAAoBX,UAApB,EAAgCY,IAArC,CAD0C,CAE1C;AACA;AACA;;AACA,kBAAIH,EAAE,IAAIA,EAAE,CAACI,IAAb,EAAmB;AACjBJ,gBAAAA,EAAE,GAAGA,EAAE,CAACG,IAAR;AACD;AACF,aAnBY,CAoBb;;;AACA,gBAAI,CAACH,EAAD,IAAOP,SAAS,CAACG,UAArB,EAAiC;AAC/BI,cAAAA,EAAE,GAAGP,SAAS,CAACG,UAAV,CAAqBM,SAArB,CAA+BX,UAA/B,CAAL;AACD;AACF,WApDI,CAsDL;;;AACA,cAAIS,EAAJ,EAAQ;AACN,gBAAI,CAACxB,KAAK,CAACgB,uBAAX,EAAoC;AAClChB,cAAAA,KAAK,CAACgB,uBAAN,GAAgC,EAAhC;AACD;;AACD,gBAAI,CAAChB,KAAK,CAACgB,uBAAN,CAA8BhD,KAAK,CAACJ,IAApC,CAAL,EAAgD;AAC9CoC,cAAAA,KAAK,CAACgB,uBAAN,CAA8BhD,KAAK,CAACJ,IAApC,IAA4C,EAA5C;AACD;;AACDoC,YAAAA,KAAK,CAACgB,uBAAN,CAA8BhD,KAAK,CAACJ,IAApC,EAA0CmD,UAA1C,IAAwDS,EAAxD;AACD,WARD;;AAmBA,iBAAOA,EAAP;AACD;AACF,OAzXM;;AA2XP;AACJ;AACA;AACA;AACA;;AAEI;AACJ;AACA;AACA;AACA;AACA;AACA;AACIrC,MAAAA,eAxYO,6BAwYW;AAChB,eAAO,YAAY,KAAKvB,IAAjB,GAAwB,GAA/B;AACD,OA1YM;;AA4YP;AACA0B,MAAAA,UAAU,EAAE,EA7YL;;AA+YP;AACAuC,MAAAA,QAAa,EAAEvE,EAAE,CAACwE,IAAH,CAAQC,WAAR,CAAoBC,MAApB,CAA2B,UAA3B,EAAuC;AACpD,gBAAM;AACJlE,UAAAA,OAAO,EAAE,QADL;AACe;AACnBH,UAAAA,OAAO,EAAE,QAFL;AAEe;AACnBgB,UAAAA,OAAO,EAAE,QAHL;AAGe;AACnBF,UAAAA,UAAU,EAAE,QAJR;AAIkB;AACtBI,UAAAA,MAAM,EAAE,QALJ;AAKc;AAClBE,UAAAA,QAAQ,EAAE,UANN;AAMkB;AACtBV,UAAAA,SAAS,EAAE,UAPP,CAOkB;;AAPlB,SAD8C;AAWpD,mBAAS;AAX2C,OAAvC,CAhZR;;AA8ZP;AACJ;AACA;AACA;AACA;AACA;AACA;AACI4D,MAAAA,QAAgB,EAAE3E,EAAE,CAACwE,IAAH,CAAQC,WAAR,CAAoBC,MAApB,CAA2B,UAA3B,EAAuC;AAAA,+BAClDpE,IADkD,EAC5CC,MAD4C,EACpC;AACjB;AACA,cAAIqE,OAAO,GAAG,KAAKL,QAAnB;;AACA,eAAK,IAAI3D,GAAT,IAAgBL,MAAhB,EAAwB;AACtB,gBAAI,CAACqE,OAAO,CAAChE,GAAD,CAAZ,EAAmB;AACjB,oBAAM,IAAI4B,KAAJ,CACJ,4BACE5B,GADF,GAEE,cAFF,GAGEN,IAHF,GAIE,mBALE,CAAN;AAOD;;AAED,gBAAIC,MAAM,CAACK,GAAD,CAAN,IAAe,IAAnB,EAAyB;AACvB,oBAAM,IAAI4B,KAAJ,CACJ,kBACE5B,GADF,GAEE,cAFF,GAGEN,IAHF,GAIE,iCALE,CAAN;AAOD;;AAED,gBAAIsE,OAAO,CAAChE,GAAD,CAAP,KAAiB,IAAjB,IAAyB,QAAOL,MAAM,CAACK,GAAD,CAAb,MAAuBgE,OAAO,CAAChE,GAAD,CAA3D,EAAkE;AAChE,oBAAM,IAAI4B,KAAJ,CACJ,0BACE5B,GADF,GAEE,cAFF,GAGEN,IAHF,GAIE,kCAJF,GAKEsE,OAAO,CAAChE,GAAD,CALT,GAME,IAPE,CAAN;AASD;AACF,WAnCgB,CAqCjB;;;AACA,cAAIiE,IAAI,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,YAAvB,EAAqC,QAArC,CAAX;;AACA,eAAK,IAAItC,CAAC,GAAG,CAAR,EAAWe,CAAC,GAAGuB,IAAI,CAACvC,MAAzB,EAAiCC,CAAC,GAAGe,CAArC,EAAwCf,CAAC,EAAzC,EAA6C;AAC3C,gBAAI3B,GAAG,GAAGiE,IAAI,CAACtC,CAAD,CAAd;;AAEA,gBACEhC,MAAM,CAACK,GAAD,CAAN,KAAgBsC,SAAhB,KACC,CAAC,OAAD,EAAU,QAAV,EAAoB,MAApB,EAA4Be,OAA5B,CACCjE,EAAE,CAACC,SAAH,CAAaQ,QAAb,CAAsBF,MAAM,CAACK,GAAD,CAA5B,CADD,KAEI,CAAC,CAFL,IAGCL,MAAM,CAACK,GAAD,CAAN,CAAYkE,SAAZ,KAA0B5B,SAJ5B,CADF,EAME;AACA,oBAAM,IAAIV,KAAJ,CACJ,kBACE5B,GADF,GAEE,cAFF,GAGEN,IAHF,GAIE,iCALE,CAAN;AAOD;AACF,WAzDgB,CA2DjB;;;AACA,cAAIC,MAAM,CAACC,OAAX,EAAoB;AAClB,iBAAK,IAAI+B,CAAC,GAAG,CAAR,EAAWwC,CAAC,GAAGxE,MAAM,CAACC,OAAtB,EAA+B8C,CAAC,GAAGyB,CAAC,CAACzC,MAA1C,EAAkDC,CAAC,GAAGe,CAAtD,EAAyDf,CAAC,EAA1D,EAA8D;AAC5D,kBAAIwC,CAAC,CAACxC,CAAD,CAAD,IAAQ,IAAZ,EAAkB;AAChB,sBAAM,IAAIC,KAAJ,CACJ,6DACGD,CAAC,GAAG,CADP,IAEE,cAFF,GAGEjC,IAHF,GAIE,qBALE,CAAN;AAOD;;AAED,kBAAIyE,CAAC,CAACxC,CAAD,CAAD,CAAKZ,MAAL,KAAgB,OAApB,EAA6B;AAC3B,sBAAM,IAAIa,KAAJ,CACJ,6DACGD,CAAC,GAAG,CADP,IAEE,cAFF,GAGEjC,IAHF,GAIE,kBALE,CAAN;AAOD;AACF;;AAED,iBAAK2B,kBAAL,CAAwB1B,MAAM,CAACC,OAA/B;AACD;AACF,SAtFsD;AAAA,qCAwF/CF,IAxF+C,EAwFzCC,MAxFyC,EAwFjC,CAAE;AAxF+B,OAAvC;AAraX;AADqB,GAAhC;AA7BAP,EAAAA,EAAE,CAAC+C,KAAH,CAAS5C,aAAT,GAAyBA,aAAzB",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * This class is used to define mixins (similar to mixins in Ruby).\n *\n * Mixins are collections of code and variables, which can be merged into\n * other classes. They are similar to classes but don't support inheritance.\n *\n * See the description of the {@link #define} method how a mixin is defined.\n *\n * @require(qx.lang.normalize.Array)\n */\nqx.Bootstrap.define(\"qx.Mixin\", {\n  statics: {\n    /*\n    ---------------------------------------------------------------------------\n       PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Define a new mixin.\n     *\n     * Example:\n     * <pre class='javascript'>\n     * qx.Mixin.define(\"name\",\n     * {\n     *   include: [SuperMixins],\n     *\n     *   properties: {\n     *     tabIndex: {type: \"number\", init: -1}\n     *   },\n     *\n     *   members:\n     *   {\n     *     prop1: \"foo\",\n     *     meth1: function() {},\n     *     meth2: function() {}\n     *   }\n     * });\n     * </pre>\n     *\n     * @param name {String} name of the mixin\n     * @param config {Map ? null} Mixin definition structure. The configuration map has the following keys:\n     *   <table>\n     *     <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n     *     <tr><th>construct</th><td>Function</td><td>An optional mixin constructor. It is called on instantiation each\n     *         class including this mixin. The constructor takes no parameters.</td></tr>\n     *     <tr><th>destruct</th><td>Function</td><td>An optional mixin destructor.</td></tr>\n     *     <tr><th>include</th><td>Mixin[]</td><td>Array of mixins, which will be merged into the mixin.</td></tr>\n     *     <tr><th>statics</th><td>Map</td><td>\n     *         Map of statics of the mixin. The statics will not get copied into the target class. They remain\n     *         accessible from the mixin. This is the same behaviour as statics in interfaces ({@link qx.Interface#define}).\n     *     </td></tr>\n     *     <tr><th>members</th><td>Map</td><td>Map of members of the mixin.</td></tr>\n     *     <tr><th>properties</th><td>Map</td><td>Map of property definitions. For a description of the format of a property definition see\n     *           {@link qx.core.Property}.</td></tr>\n     *     <tr><th>events</th><td>Map</td><td>\n     *         Map of events the mixin fires. The keys are the names of the events and the values are\n     *         corresponding event type classes.\n     *     </td></tr>\n     *   </table>\n     *\n     * @return {qx.Mixin} The configured mixin\n     */\n    define(name, config) {\n      if (config) {\n        // Normalize include\n        if (\n          config.include &&\n          !(qx.Bootstrap.getClass(config.include) === \"Array\")\n        ) {\n          config.include = [config.include];\n        }\n\n        // Validate incoming data\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          this.__validateConfig(name, config);\n        }\n\n        // Create Interface from statics\n        var mixin = config.statics ? config.statics : {};\n        qx.Bootstrap.setDisplayNames(mixin, name);\n\n        for (var key in mixin) {\n          if (mixin[key] instanceof Function) {\n            mixin[key].$$mixin = mixin;\n          }\n        }\n\n        // Attach configuration\n        if (config.construct) {\n          mixin.$$constructor = config.construct;\n          qx.Bootstrap.setDisplayName(config.construct, name, \"constructor\");\n        }\n\n        if (config.include) {\n          mixin.$$includes = config.include;\n        }\n\n        if (config.properties) {\n          mixin.$$properties = config.properties;\n        }\n\n        if (config.members) {\n          mixin.$$members = config.members;\n          qx.Bootstrap.setDisplayNames(config.members, name + \".prototype\");\n        }\n\n        for (var key in mixin.$$members) {\n          if (mixin.$$members[key] instanceof Function) {\n            mixin.$$members[key].$$mixin = mixin;\n          }\n        }\n\n        if (config.events) {\n          mixin.$$events = config.events;\n        }\n\n        if (config.destruct) {\n          mixin.$$destructor = config.destruct;\n          qx.Bootstrap.setDisplayName(config.destruct, name, \"destruct\");\n        }\n      } else {\n        var mixin = {};\n      }\n\n      // Add basics\n      mixin.$$type = \"Mixin\";\n      mixin.name = name;\n\n      // Attach toString\n      mixin.toString = this.genericToString;\n\n      // Assign to namespace\n      mixin.basename = qx.Bootstrap.createNamespace(name, mixin);\n\n      // Store class reference in global mixin registry\n      this.$$registry[name] = mixin;\n\n      // Return final mixin\n      return mixin;\n    },\n\n    /**\n     * Check compatibility between mixins (including their includes)\n     *\n     * @param mixins {Mixin[]} an array of mixins\n     * @throws {Error} when there is a conflict between the mixins\n     * @return {Boolean} <code>true</code> if the mixin passed the compatibility check\n     */\n    checkCompatibility(mixins) {\n      var list = this.flatten(mixins);\n      var len = list.length;\n\n      if (len < 2) {\n        return true;\n      }\n\n      var properties = {};\n      var members = {};\n      var events = {};\n      var mixin;\n\n      for (var i = 0; i < len; i++) {\n        mixin = list[i];\n\n        for (var key in mixin.events) {\n          if (events[key]) {\n            throw new Error(\n              'Conflict between mixin \"' +\n                mixin.name +\n                '\" and \"' +\n                events[key] +\n                '\" in member \"' +\n                key +\n                '\"!'\n            );\n          }\n\n          events[key] = mixin.name;\n        }\n\n        for (var key in mixin.properties) {\n          if (properties[key]) {\n            throw new Error(\n              'Conflict between mixin \"' +\n                mixin.name +\n                '\" and \"' +\n                properties[key] +\n                '\" in property \"' +\n                key +\n                '\"!'\n            );\n          }\n\n          properties[key] = mixin.name;\n        }\n\n        for (var key in mixin.members) {\n          if (members[key]) {\n            throw new Error(\n              'Conflict between mixin \"' +\n                mixin.name +\n                '\" and \"' +\n                members[key] +\n                '\" in member \"' +\n                key +\n                '\"!'\n            );\n          }\n\n          members[key] = mixin.name;\n        }\n      }\n\n      return true;\n    },\n\n    /**\n     * Checks if a class is compatible to the given mixin (no conflicts)\n     *\n     * @param mixin {Mixin} mixin to check\n     * @param clazz {Class} class to check\n     * @throws {Error} when the given mixin is incompatible to the class\n     * @return {Boolean} true if the mixin is compatible to the given class\n     */\n    isCompatible(mixin, clazz) {\n      var list = qx.util.OOUtil.getMixins(clazz);\n      list.push(mixin);\n      return qx.Mixin.checkCompatibility(list);\n    },\n\n    /**\n     * Returns a mixin by name\n     *\n     * @param name {String} class name to resolve\n     * @return {Class} the class\n     */\n    getByName(name) {\n      return this.$$registry[name];\n    },\n\n    /**\n     * Determine if mixin exists\n     *\n     * @param name {String} mixin name to check\n     * @return {Boolean} true if mixin exists\n     */\n    isDefined(name) {\n      return this.getByName(name) !== undefined;\n    },\n\n    /**\n     * Determine the number of mixins which are defined\n     *\n     * @return {Number} the number of mixins\n     */\n    getTotalNumber() {\n      return qx.Bootstrap.objectGetLength(this.$$registry);\n    },\n\n    /**\n     * Generates a list of all mixins given plus all the\n     * mixins these includes plus... (deep)\n     *\n     * @param mixins {Mixin[] ? []} List of mixins\n     * @return {Array} List of all mixins\n     */\n    flatten(mixins) {\n      if (!mixins) {\n        return [];\n      }\n\n      // we need to create a copy and not to modify the existing array\n      var list = mixins.concat();\n\n      for (var i = 0, l = mixins.length; i < l; i++) {\n        if (mixins[i].$$includes) {\n          list.push.apply(list, this.flatten(mixins[i].$$includes));\n        }\n      }\n\n      return list;\n    },\n\n    /**\n     * This method is used to determine the base method to call at runtime, and is used\n     * by Mixins where the mixin method calls `this.base()`.  It is only required by the\n     * compiler, and not the generator.\n     *\n     * The problem is that while Mixin's cannot override the same methods in a single class,\n     * they can override methods that were implemented in a base base - but the compiler\n     * cannot emit compile-time code which knows the base class method because that depends\n     * on the class that the mixin is mixed-into.\n     *\n     * This method will search the hierarchy of the class at runtime, and figure out the\n     * nearest superclass method to call; the result is cached, and it is acceptable for\n     * a mixin's method to override a method mixed into a superclass.\n     *\n     * Technically, this method should be private - it is internal and no notification will\n     * be given if the API changes.  However, because it needs to be called by generated code\n     * in any class, it has to appear as public.  Do not use it directly.\n     *\n     * @param clazz {Class} the class that is to be examined\n     * @param mixin {Mixin} the mixin that is calling `this.base`\n     * @param methodName {String} the name of the method in `mixin` that is calling `this.base`\n     * @return {Function} the base class function to call\n     */\n    baseClassMethod(clazz, mixin, methodName) {\n      if (!qx.core.Environment.get(\"qx.compiler\")) {\n        qx.log.Logger.error(\n          \"qx.Mixin.baseClassMethod should not be used except with code compiled by the compiler (ie NOT the generator / python toolchain)\"\n        );\n      } else {\n        if (\n          clazz.$$mixinBaseClassMethods &&\n          clazz.$$mixinBaseClassMethods[mixin.name] !== undefined &&\n          clazz.$$mixinBaseClassMethods[mixin.name][methodName] !== undefined\n        ) {\n          return clazz.$$mixinBaseClassMethods[mixin.name][methodName];\n        }\n\n        // Find the class which added the mixin; if it is mixed in twice, we pick the super-most class\n        var mixedInAt = null;\n        var mixedInIndex = -1;\n        for (\n          var searchClass = clazz;\n          searchClass;\n          searchClass = searchClass.superclass\n        ) {\n          if (searchClass.$$flatIncludes) {\n            var pos = searchClass.$$flatIncludes.indexOf(mixin);\n            if (pos > -1) {\n              mixedInAt = searchClass;\n              mixedInIndex = pos;\n            }\n          }\n        }\n\n        var fn = null;\n\n        if (mixedInAt) {\n          // Multiple mixins can provide an implementation, in which case the mixin which was\n          //  added second's \"base\" implementation is the first mixin's method\n          for (var i = mixedInIndex - 1; i > -1; i--) {\n            var peerMixin = mixedInAt.$$flatIncludes[i];\n            if (peerMixin.$$members[methodName]) {\n              fn = peerMixin.$$members[methodName];\n              break;\n            }\n          }\n          // Try looking in the class itself\n          if (!fn && mixedInAt.prototype[methodName]) {\n            fn = mixedInAt.prototype[methodName].base;\n            // if fn.self is set fn is an overloaded mixin method from\n            // another mixin. In this case fn.base contains the original\n            // class method.\n            if (fn && fn.self) {\n              fn = fn.base;\n            }\n          }\n          // Try looking in the superclass\n          if (!fn && mixedInAt.superclass) {\n            fn = mixedInAt.superclass.prototype[methodName];\n          }\n        }\n\n        // Cache the result\n        if (fn) {\n          if (!clazz.$$mixinBaseClassMethods) {\n            clazz.$$mixinBaseClassMethods = {};\n          }\n          if (!clazz.$$mixinBaseClassMethods[mixin.name]) {\n            clazz.$$mixinBaseClassMethods[mixin.name] = {};\n          }\n          clazz.$$mixinBaseClassMethods[mixin.name][methodName] = fn;\n        } else if (qx.core.Environment.get(\"qx.debug\")) {\n          throw new Error(\n            \"Cannot find base class method called \" +\n              methodName +\n              \" for mixin \" +\n              mixin.name +\n              \", when viewed from \" +\n              clazz.classname\n          );\n        }\n\n        return fn;\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n       PRIVATE/INTERNAL API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method will be attached to all mixins to return\n     * a nice identifier for them.\n     *\n     * @internal\n     * @return {String} The mixin identifier\n     */\n    genericToString() {\n      return \"[Mixin \" + this.name + \"]\";\n    },\n\n    /** Registers all defined mixins */\n    $$registry: {},\n\n    /** @type {Map} allowed keys in mixin definition */\n    __allowedKeys: qx.core.Environment.select(\"qx.debug\", {\n      true: {\n        include: \"object\", // Mixin | Mixin[]\n        statics: \"object\", // Map\n        members: \"object\", // Map\n        properties: \"object\", // Map\n        events: \"object\", // Map\n        destruct: \"function\", // Function\n        construct: \"function\" // Function\n      },\n\n      default: null\n    }),\n\n    /**\n     * Validates incoming configuration and checks keys and values\n     *\n     * @signature function(name, config)\n     * @param name {String} The name of the class\n     * @param config {Map} Configuration map\n     */\n    __validateConfig: qx.core.Environment.select(\"qx.debug\", {\n      true(name, config) {\n        // Validate keys\n        var allowed = this.__allowedKeys;\n        for (var key in config) {\n          if (!allowed[key]) {\n            throw new Error(\n              'The configuration key \"' +\n                key +\n                '\" in mixin \"' +\n                name +\n                '\" is not allowed!'\n            );\n          }\n\n          if (config[key] == null) {\n            throw new Error(\n              'Invalid key \"' +\n                key +\n                '\" in mixin \"' +\n                name +\n                '\"! The value is undefined/null!'\n            );\n          }\n\n          if (allowed[key] !== null && typeof config[key] !== allowed[key]) {\n            throw new Error(\n              'Invalid type of key \"' +\n                key +\n                '\" in mixin \"' +\n                name +\n                '\"! The type of the key must be \"' +\n                allowed[key] +\n                '\"!'\n            );\n          }\n        }\n\n        // Validate maps\n        var maps = [\"statics\", \"members\", \"properties\", \"events\"];\n        for (var i = 0, l = maps.length; i < l; i++) {\n          var key = maps[i];\n\n          if (\n            config[key] !== undefined &&\n            ([\"Array\", \"RegExp\", \"Date\"].indexOf(\n              qx.Bootstrap.getClass(config[key])\n            ) != -1 ||\n              config[key].classname !== undefined)\n          ) {\n            throw new Error(\n              'Invalid key \"' +\n                key +\n                '\" in mixin \"' +\n                name +\n                '\"! The value needs to be a map!'\n            );\n          }\n        }\n\n        // Validate includes\n        if (config.include) {\n          for (var i = 0, a = config.include, l = a.length; i < l; i++) {\n            if (a[i] == null) {\n              throw new Error(\n                \"Includes of mixins must be mixins. The include number '\" +\n                  (i + 1) +\n                  \"' in mixin '\" +\n                  name +\n                  \"'is undefined/null!\"\n              );\n            }\n\n            if (a[i].$$type !== \"Mixin\") {\n              throw new Error(\n                \"Includes of mixins must be mixins. The include number '\" +\n                  (i + 1) +\n                  \"' in mixin '\" +\n                  name +\n                  \"'is not a mixin!\"\n              );\n            }\n          }\n\n          this.checkCompatibility(config.include);\n        }\n      },\n\n      default(name, config) {}\n    })\n  }\n});\n"
  ]
}