{
  "version": 3,
  "sources": [
    "/home/runner/work/hkollmann.mobilegrid/hkollmann.mobilegrid/node_modules/@qooxdoo/framework/source/class/qx/util/ResourceManager.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "statics",
    "__registry",
    "$$resources",
    "__urlPrefix",
    "members",
    "findHighResolutionSource",
    "lowResImgSrc",
    "factor",
    "pixelRatioCandidates",
    "parseFloat",
    "bom",
    "client",
    "Device",
    "getDevicePixelRatio",
    "toFixed",
    "i",
    "length",
    "hiResImgSrc",
    "k",
    "getHighResolutionSource",
    "source",
    "pixelRatio",
    "fileExtIndex",
    "lastIndexOf",
    "pixelRatioIdentifier",
    "candidate",
    "slice",
    "has",
    "getIds",
    "pathfragment",
    "registry",
    "keys",
    "filter",
    "key",
    "indexOf",
    "id",
    "getData",
    "getImageWidth",
    "size",
    "startsWith",
    "part",
    "split",
    "parseInt",
    "entry",
    "width",
    "Math",
    "ceil",
    "getImageHeight",
    "getImageFormat",
    "getCombinedFormat",
    "clippedtype",
    "isclipped",
    "constructor",
    "combId",
    "combImg",
    "toUri",
    "lib",
    "urlPrefix",
    "Environment",
    "get",
    "util",
    "LibraryManager",
    "getInstance",
    "toDataUri",
    "resid",
    "resentry",
    "combined",
    "uri",
    "resstruct",
    "isFontUri",
    "fromFontUriToCharCode",
    "sparts",
    "fontSource",
    "resource",
    "charCode",
    "hexString",
    "match",
    "isNaN",
    "Error",
    "defer",
    "$$libraries",
    "resourceUri",
    "href",
    "baseElements",
    "document",
    "getElementsByTagName",
    "window",
    "location",
    "protocol",
    "host",
    "url",
    "URL",
    "substring",
    "index",
    "ResourceManager"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Contains information about images (size, format, clipping, ...) and\n * other resources like CSS files, local data, ...\n */\nqx.Class.define(\"qx.util.ResourceManager\", {\n  extend: qx.core.Object,\n  type: \"singleton\",\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct() {\n    super();\n  },\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics: {\n    /** @type {Map} the shared image registry */\n    __registry: qx.$$resources || {},\n\n    /** @type {Map} prefix per library used in HTTPS mode for IE */\n    __urlPrefix: {}\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    /**\n     * Detects whether there is a high-resolution image available.\n     * A high-resolution image is assumed to have the same file name as\n     * the parameter source, but with a pixelRatio identifier before the file\n     * extension, like \"@2x\".\n     * Medium Resolution: \"example.png\", high-resolution: \"example@2x.png\"\n     *\n     * @param lowResImgSrc {String} source of the low resolution image.\n     * @param factor {Number} Factor to find the right image. If not set calculated by getDevicePixelRatio()\n     * @return {String|Boolean} If a high-resolution image source.\n     */\n    findHighResolutionSource(lowResImgSrc, factor) {\n      var pixelRatioCandidates = [\"3\", \"2\", \"1.5\"];\n\n      // Calculate the optimal ratio, based on the rem scale factor of the application and the device pixel ratio.\n      if (!factor) {\n        factor = parseFloat(\n          qx.bom.client.Device.getDevicePixelRatio().toFixed(2)\n        );\n      }\n      if (factor <= 1) {\n        return false;\n      }\n\n      var i = pixelRatioCandidates.length;\n      while (i > 0 && factor > pixelRatioCandidates[--i]) {}\n\n      var hiResImgSrc;\n      var k;\n\n      // Search for best img with a higher resolution.\n      for (k = i; k >= 0; k--) {\n        hiResImgSrc = this.getHighResolutionSource(\n          lowResImgSrc,\n          pixelRatioCandidates[k]\n        );\n\n        if (hiResImgSrc) {\n          return hiResImgSrc;\n        }\n      }\n\n      // Search for best img with a lower resolution.\n      for (k = i + 1; k < pixelRatioCandidates.length; k++) {\n        hiResImgSrc = this.getHighResolutionSource(\n          lowResImgSrc,\n          pixelRatioCandidates[k]\n        );\n\n        if (hiResImgSrc) {\n          return hiResImgSrc;\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Returns the source name for the high-resolution image based on the passed\n     * parameters.\n     * @param source {String} the source of the medium resolution image.\n     * @param pixelRatio {Number} the pixel ratio of the high-resolution image.\n     * @return {String} the high-resolution source name or null if no source could be found.\n     */\n    getHighResolutionSource(source, pixelRatio) {\n      var fileExtIndex = source.lastIndexOf(\".\");\n      if (fileExtIndex > -1) {\n        var pixelRatioIdentifier = \"@\" + pixelRatio + \"x\";\n        var candidate =\n          source.slice(0, fileExtIndex) +\n          pixelRatioIdentifier +\n          source.slice(fileExtIndex);\n\n        if (this.has(candidate)) {\n          return candidate;\n        }\n      }\n      return null;\n    },\n\n    /**\n     * Get all known resource IDs.\n     *\n     * @param pathfragment{String|null|undefined} an optional path fragment to check against with id.indexOf(pathfragment)\n     * @return {Array|null} an array containing the IDs or null if the registry is not initialized\n     */\n    getIds(pathfragment) {\n      var registry = this.self(arguments).__registry;\n      if (!registry) {\n        return null;\n      }\n      return Object.keys(registry).filter(function (key) {\n        return !pathfragment || key.indexOf(pathfragment) != -1;\n      });\n    },\n\n    /**\n     * Whether the registry has information about the given resource.\n     *\n     * @param id {String} The resource to get the information for\n     * @return {Boolean} <code>true</code> when the resource is known.\n     */\n    has(id) {\n      return !!this.self(arguments).__registry[id];\n    },\n\n    /**\n     * Get information about an resource.\n     *\n     * @param id {String} The resource to get the information for\n     * @return {Array} Registered data or <code>null</code>\n     */\n    getData(id) {\n      return this.self(arguments).__registry[id] || null;\n    },\n\n    /**\n     * Returns the width of the given resource ID,\n     * when it is not a known image <code>0</code> is\n     * returned.\n     *\n     * @param id {String} Resource identifier\n     * @return {Integer} The image width, maybe <code>null</code> when the width is unknown\n     */\n    getImageWidth(id) {\n      var size;\n      if (id && id.startsWith(\"@\")) {\n        var part = id.split(\"/\");\n        size = parseInt(part[2], 10);\n        if (size) {\n          id = part[0] + \"/\" + part[1];\n        }\n      }\n      var entry = this.self(arguments).__registry[id]; // [ width, height, codepoint ]\n      if (size && entry) {\n        var width = Math.ceil((size / entry[1]) * entry[0]);\n        return width;\n      }\n      return entry ? entry[0] : null;\n    },\n\n    /**\n     * Returns the height of the given resource ID,\n     * when it is not a known image <code>0</code> is\n     * returned.\n     *\n     * @param id {String} Resource identifier\n     * @return {Integer} The image height, maybe <code>null</code> when the height is unknown\n     */\n    getImageHeight(id) {\n      if (id && id.startsWith(\"@\")) {\n        var part = id.split(\"/\");\n        var size = parseInt(part[2], 10);\n        if (size) {\n          return size;\n        }\n      }\n      var entry = this.self(arguments).__registry[id];\n      return entry ? entry[1] : null;\n    },\n\n    /**\n     * Returns the format of the given resource ID,\n     * when it is not a known image <code>null</code>\n     * is returned.\n     *\n     * @param id {String} Resource identifier\n     * @return {String} File format of the image\n     */\n    getImageFormat(id) {\n      if (id && id.startsWith(\"@\")) {\n        return \"font\";\n      }\n\n      var entry = this.self(arguments).__registry[id];\n      return entry ? entry[2] : null;\n    },\n\n    /**\n     * Returns the format of the combined image (png, gif, ...), if the given\n     * resource identifier is an image contained in one, or the empty string\n     * otherwise.\n     *\n     * @param id {String} Resource identifier\n     * @return {String} The type of the combined image containing id\n     */\n    getCombinedFormat(id) {\n      var clippedtype = \"\";\n      var entry = this.self(arguments).__registry[id];\n      var isclipped =\n        entry &&\n        entry.length > 4 &&\n        typeof entry[4] == \"string\" &&\n        this.constructor.__registry[entry[4]];\n      if (isclipped) {\n        var combId = entry[4];\n        var combImg = this.constructor.__registry[combId];\n        clippedtype = combImg[2];\n      }\n      return clippedtype;\n    },\n\n    /**\n     * Converts the given resource ID to a full qualified URI\n     *\n     * @param id {String} Resource ID\n     * @return {String} Resulting URI\n     */\n    toUri(id) {\n      if (id == null) {\n        return id;\n      }\n\n      var entry = this.self(arguments).__registry[id];\n      if (!entry) {\n        return id;\n      }\n\n      if (typeof entry === \"string\") {\n        var lib = entry;\n      } else {\n        var lib = entry[3];\n\n        // no lib reference\n        // may mean that the image has been registered dynamically\n        if (!lib) {\n          return id;\n        }\n      }\n\n      var urlPrefix = \"\";\n      if (\n        qx.core.Environment.get(\"engine.name\") == \"mshtml\" &&\n        qx.core.Environment.get(\"io.ssl\")\n      ) {\n        urlPrefix = this.self(arguments).__urlPrefix[lib];\n      }\n\n      return (\n        urlPrefix +\n        qx.util.LibraryManager.getInstance().get(lib, \"resourceUri\") +\n        \"/\" +\n        id\n      );\n    },\n\n    /**\n     * Construct a data: URI for an image resource.\n     *\n     * Constructs a data: URI for a given resource id, if this resource is\n     * contained in a base64 combined image. If this is not the case (e.g.\n     * because the combined image has not been loaded yet), returns the direct\n     * URI to the image file itself.\n     *\n     * @param resid {String} resource id of the image\n     * @return {String} \"data:\" or \"http:\" URI\n     */\n    toDataUri(resid) {\n      var resentry = this.constructor.__registry[resid];\n      var combined = resentry ? this.constructor.__registry[resentry[4]] : null;\n      var uri;\n      if (combined) {\n        var resstruct = combined[4][resid];\n        uri =\n          \"data:image/\" +\n          resstruct[\"type\"] +\n          \";\" +\n          resstruct[\"encoding\"] +\n          \",\" +\n          resstruct[\"data\"];\n      } else {\n        uri = this.toUri(resid);\n      }\n      return uri;\n    },\n\n    /**\n     * Checks whether a given resource id for an image is a font handle.\n     *\n     * @param resid {String} resource id of the image\n     * @return {Boolean} True if it's a font URI\n     */\n    isFontUri(resid) {\n      return resid ? resid.startsWith(\"@\") : false;\n    },\n\n    /**\n     * Returns the correct char code, ignoring scale postfix.\n     *\n     * The resource ID can be a ligature name (eg `@FontAwesome/heart` or `@MaterialIcons/home/16`),\n     * or a hex character code (eg `@FontAwesome/f004` or `@FontAwesome/f004/16`)\n     *\n     * @param source {String} resource id of the image\n     * @returns charCode of the glyph\n     */\n    fromFontUriToCharCode(source) {\n      var sparts = source.split(\"/\");\n      var fontSource = source;\n      if (sparts.length > 2) {\n        fontSource = sparts[0] + \"/\" + sparts[1];\n      }\n      var resource = this.getData(fontSource);\n      var charCode = null;\n      if (resource) {\n        charCode = resource[2];\n      } else {\n        let hexString = source.match(/@([^/]+)\\/(.*)$/)[2];\n        if (hexString) {\n          charCode = parseInt(hexString, 16);\n          if (isNaN(charCode)) {\n            charCode = null;\n          }\n        }\n      }\n      if (!charCode) {\n        throw new Error(`Cannot determine charCode from source: ${source}`);\n      }\n      return charCode;\n    }\n  },\n\n  defer(statics) {\n    if (qx.core.Environment.get(\"engine.name\") == \"mshtml\") {\n      // To avoid a \"mixed content\" warning in IE when the application is\n      // delivered via HTTPS a prefix has to be added. This will transform the\n      // relative URL to an absolute one in IE.\n      // Though this warning is only displayed in conjunction with images which\n      // are referenced as a CSS \"background-image\", every resource path is\n      // changed when the application is served with HTTPS.\n      if (qx.core.Environment.get(\"io.ssl\")) {\n        for (var lib in qx.$$libraries) {\n          var resourceUri;\n          if (qx.util.LibraryManager.getInstance().get(lib, \"resourceUri\")) {\n            resourceUri = qx.util.LibraryManager.getInstance().get(\n              lib,\n              \"resourceUri\"\n            );\n          } else {\n            // default for libraries without a resourceUri set\n            statics.__urlPrefix[lib] = \"\";\n            continue;\n          }\n\n          var href;\n          //first check if there is base url set\n          var baseElements = document.getElementsByTagName(\"base\");\n          if (baseElements.length > 0) {\n            href = baseElements[0].href;\n          }\n\n          // It is valid to to begin a URL with \"//\" so this case has to\n          // be considered. If the to resolved URL begins with \"//\" the\n          // manager prefixes it with \"https:\" to avoid any problems for IE\n          if (resourceUri.match(/^\\/\\//) != null) {\n            statics.__urlPrefix[lib] = window.location.protocol;\n          }\n          // If the resourceUri begins with a single slash, include the current\n          // hostname\n          else if (resourceUri.match(/^\\//) != null) {\n            if (href) {\n              statics.__urlPrefix[lib] = href;\n            } else {\n              statics.__urlPrefix[lib] =\n                window.location.protocol + \"//\" + window.location.host;\n            }\n          }\n          // If the resolved URL begins with \"./\" the final URL has to be\n          // put together using the document.URL property.\n          // IMPORTANT: this is only applicable for the source version\n          else if (resourceUri.match(/^\\.\\//) != null) {\n            var url = document.URL;\n            statics.__urlPrefix[lib] = url.substring(\n              0,\n              url.lastIndexOf(\"/\") + 1\n            );\n          } else if (resourceUri.match(/^http/) != null) {\n            // Let absolute URLs pass through\n            statics.__urlPrefix[lib] = \"\";\n          } else {\n            if (!href) {\n              // check for parameters with URLs as value\n              var index = window.location.href.indexOf(\"?\");\n\n              if (index == -1) {\n                href = window.location.href;\n              } else {\n                href = window.location.href.substring(0, index);\n              }\n            }\n\n            statics.__urlPrefix[lib] = href.substring(\n              0,\n              href.lastIndexOf(\"/\") + 1\n            );\n          }\n        }\n      }\n    }\n  }\n});\n"
  ]
}