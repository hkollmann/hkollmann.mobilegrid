{
  "version": 3,
  "sources": [
    "/home/runner/work/hkollmann.mobilegrid/hkollmann.mobilegrid/node_modules/@qooxdoo/framework/source/class/qx/bom/AnimationFrame.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "extend",
    "event",
    "Emitter",
    "events",
    "end",
    "undefined",
    "frame",
    "members",
    "__canceled",
    "startSequence",
    "duration",
    "start",
    "window",
    "performance",
    "now",
    "bom",
    "AnimationFrame",
    "__start",
    "Date",
    "cb",
    "time",
    "id",
    "emit",
    "timePassed",
    "Math",
    "max",
    "request",
    "cancelSequence",
    "statics",
    "TIMEOUT",
    "calculateTiming",
    "func",
    "x",
    "a",
    "y",
    "i",
    "length",
    "pow",
    "callback",
    "context",
    "req",
    "core",
    "Environment",
    "get",
    "call",
    "setTimeout",
    "defer",
    "timing",
    "navigationStart"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (wittemann)\n\n************************************************************************ */\n\n/**\n * This is a cross browser wrapper for requestAnimationFrame. For further\n * information about the feature, take a look at spec:\n * http://www.w3.org/TR/animation-timing/\n *\n * This class offers two ways of using this feature. First, the plain\n * API the spec describes.\n *\n * Here is a sample usage:\n * <pre class='javascript'>var start = Date.now();\n * var cb = function(time) {\n *   if (time >= start + duration) {\n *     // ... do some last tasks\n *   } else {\n *     var timePassed = time - start;\n *     // ... calculate the current step and apply it\n *     qx.bom.AnimationFrame.request(cb, this);\n *   }\n * };\n * qx.bom.AnimationFrame.request(cb, this);\n * </pre>\n *\n * Another way of using it is to use it as an instance emitting events.\n *\n * Here is a sample usage of that API:\n * <pre class='javascript'>var frame = new qx.bom.AnimationFrame();\n * frame.on(\"end\", function() {\n *   // ... do some last tasks\n * }, this);\n * frame.on(\"frame\", function(timePassed) {\n *   // ... calculate the current step and apply it\n * }, this);\n * frame.startSequence(duration);\n * </pre>\n *\n * @require(qx.lang.normalize.Date)\n */\nqx.Bootstrap.define(\"qx.bom.AnimationFrame\", {\n  extend: qx.event.Emitter,\n\n  events: {\n    /** Fired as soon as the animation has ended. */\n    end: undefined,\n\n    /**\n     * Fired on every frame having the passed time as value\n     * (might be a float for higher precision).\n     */\n    frame: \"Number\"\n  },\n\n  members: {\n    __canceled: false,\n\n    /**\n     * Method used to start a series of animation frames. The series will end as\n     * soon as the given duration is over.\n     *\n     * @param duration {Number} The duration the sequence should take.\n     *\n     * @ignore(performance.*)\n     */\n    startSequence(duration) {\n      this.__canceled = false;\n\n      var start =\n        window.performance && performance.now\n          ? performance.now() + qx.bom.AnimationFrame.__start\n          : Date.now();\n      var cb = function (time) {\n        if (this.__canceled) {\n          this.id = null;\n          return;\n        }\n\n        // final call\n        if (time >= start + duration) {\n          this.emit(\"end\");\n          this.id = null;\n        } else {\n          var timePassed = Math.max(time - start, 0);\n          this.emit(\"frame\", timePassed);\n          this.id = qx.bom.AnimationFrame.request(cb, this);\n        }\n      };\n\n      this.id = qx.bom.AnimationFrame.request(cb, this);\n    },\n\n    /**\n     * Cancels a started sequence of frames. It will do nothing if no\n     * sequence is running.\n     */\n    cancelSequence() {\n      this.__canceled = true;\n    }\n  },\n\n  statics: {\n    /**\n     * The default time in ms the timeout fallback implementation uses.\n     */\n    TIMEOUT: 30,\n\n    /**\n     * Calculation of the predefined timing functions. Approximation of the real\n     * bezier curves has been used for easier calculation. This is good and close\n     * enough for the predefined functions like <code>ease</code> or\n     * <code>linear</code>.\n     *\n     * @param func {String} The defined timing function. One of the following values:\n     *   <code>\"ease-in\"</code>, <code>\"ease-out\"</code>, <code>\"linear\"</code>,\n     *   <code>\"ease-in-out\"</code>, <code>\"ease\"</code>.\n     * @param x {Integer} The percent value of the function.\n     * @return {Integer} The calculated value\n     */\n    calculateTiming(func, x) {\n      if (func == \"ease-in\") {\n        var a = [3.1223e-7, 0.0757, 1.2646, -0.167, -0.4387, 0.2654];\n      } else if (func == \"ease-out\") {\n        var a = [-7.0198e-8, 1.652, -0.551, -0.0458, 0.1255, -0.1807];\n      } else if (func == \"linear\") {\n        return x;\n      } else if (func == \"ease-in-out\") {\n        var a = [2.482e-7, -0.2289, 3.3466, -1.0857, -1.7354, 0.7034];\n      } else {\n        // default is 'ease'\n        var a = [-0.0021, 0.2472, 9.8054, -21.6869, 17.7611, -5.1226];\n      }\n\n      // A 6th grade polynomial has been used as approximation of the original\n      // bezier curves  described in the transition spec\n      // http://www.w3.org/TR/css3-transitions/#transition-timing-function_tag\n      // (the same is used for animations as well)\n      var y = 0;\n      for (var i = 0; i < a.length; i++) {\n        y += a[i] * Math.pow(x, i);\n      }\n      return y;\n    },\n\n    /**\n     * Request for an animation frame. If the native <code>requestAnimationFrame</code>\n     * method is supported, it will be used. Otherwise, we use timeouts with a\n     * 30ms delay. The HighResolutionTime will be used if supported but the time given\n     * to the callback will still be a timestamp starting at 1 January 1970 00:00:00 UTC.\n     *\n     * @param callback {Function} The callback function which will get the current\n     *   time as argument (which could be a float for higher precision).\n     * @param context {var} The context of the callback.\n     * @return {Number} The id of the request.\n     */\n    request(callback, context) {\n      var req = qx.core.Environment.get(\"css.animation.requestframe\");\n\n      var cb = function (time) {\n        // check for high resolution time\n        if (time < 1e10) {\n          time = qx.bom.AnimationFrame.__start + time;\n        }\n\n        time = time || Date.now();\n        callback.call(context, time);\n      };\n      if (req) {\n        return window[req](cb);\n      } else {\n        // make sure to use an indirection because setTimeout passes a\n        // number as first argument as well\n        return window.setTimeout(function () {\n          cb();\n        }, qx.bom.AnimationFrame.TIMEOUT);\n      }\n    }\n  },\n\n  /**\n   * @ignore(performance.timing.*)\n   */\n  defer(statics) {\n    // check and use the high resolution start time if available\n    statics.__start =\n      window.performance &&\n      performance.timing &&\n      performance.timing.navigationStart;\n    // if not, simply use the current time\n    if (!statics.__start) {\n      statics.__start = Date.now();\n    }\n  }\n});\n"
  ]
}